<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SDK 示例 &mdash; DaoAI Camera Studio User Manual 0.1 文档</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/tabs.js"></script>
        <script src="../../_static/translations.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="API 参考" href="../api/index.html" />
    <link rel="prev" title="连接相机" href="../connect-camera/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            DaoAI Camera Studio User Manual
          </a>
              <div class="version">
                0.1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <p class="caption" role="heading"><span class="caption-text">快速入门</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/user-guide/index.html">用户指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/quick-start/index.html">快速入门指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/camera-studio-guide/index.html">相机工作室指南</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">开发功能</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">开发 - 创建一个新项目</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connect-camera/index.html">连接相机</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">SDK 示例</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id2">采集教程</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">前提条件</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id4">帮助函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id5">设置</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id6">连接相机</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id7">相机动作</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id8">相机设置</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id9">采集帧</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id10">采集助手</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">过滤器设置</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">系统设置</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id13">采集</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id14">帧</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id15">点云</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id16">点</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id17">清理</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API 参考</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">案例分析</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../case-studies/index.html">实例</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../case-studies/capturing-high-quality-point-clouds/index.html">捕捉高质量的点云</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../case-studies/evaluate-accuracy/index.html">评估精度</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../case-studies/infield-calibration/index.html">现场校准</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../case-studies/use-multiple-daoai-cameras/index.html">使用多个 DaoAI 相机</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">参考</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../reference/camera-settings/index.html">相机设置</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/calculators/index.html">计算器</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/hardware/index.html">硬件</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">支持</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../support/FAQ/index.html">常见问题解答（FAQ）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../support/bug-report/index.html">错误报告</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../support/suggest-a-feature/index.html">建议一个功能</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">DaoAI Camera Studio User Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">SDK 示例</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/develop/sdk-sample/index.rst.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="sdk">
<h1>SDK 示例<a class="headerlink" href="#sdk" title="此标题的永久链接"></a></h1>
<nav class="contents local" id="id1">
<ul class="simple">
<li><p><a class="reference internal" href="#id2" id="id18">采集教程</a></p>
<ul>
<li><p><a class="reference internal" href="#id3" id="id19">前提条件</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id4" id="id20">帮助函数</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id21">设置</a></p></li>
<li><p><a class="reference internal" href="#id6" id="id22">连接相机</a></p></li>
<li><p><a class="reference internal" href="#id7" id="id23">相机动作</a></p></li>
<li><p><a class="reference internal" href="#id8" id="id24">相机设置</a></p>
<ul>
<li><p><a class="reference internal" href="#id9" id="id25">采集帧</a></p></li>
<li><p><a class="reference internal" href="#id10" id="id26">采集助手</a></p></li>
<li><p><a class="reference internal" href="#id11" id="id27">过滤器设置</a></p></li>
<li><p><a class="reference internal" href="#id12" id="id28">系统设置</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id13" id="id29">采集</a></p></li>
<li><p><a class="reference internal" href="#id14" id="id30">帧</a></p></li>
<li><p><a class="reference internal" href="#id15" id="id31">点云</a></p></li>
<li><p><a class="reference internal" href="#id16" id="id32">点</a></p></li>
<li><p><a class="reference internal" href="#id17" id="id33">清理</a></p></li>
</ul>
</nav>
<section id="id2">
<h2><a class="toc-backref" href="#id18" role="doc-backlink">采集教程</a><a class="headerlink" href="#id2" title="此标题的永久链接"></a></h2>
<p>本教程介绍了如何使用DaoAI SDK来采集点云和二维图像。</p>
<section id="id3">
<h3><a class="toc-backref" href="#id19" role="doc-backlink">前提条件</a><a class="headerlink" href="#id3" title="此标题的永久链接"></a></h3>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-Qysr" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-Qysr" name="Qysr" role="tab" tabindex="0">C++</button><button aria-controls="panel-0-QyM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button><button aria-controls="panel-0-UHl0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-0-Qysr" class="sphinx-tabs-panel group-tab" id="panel-0-Qysr" name="Qysr" role="tabpanel" tabindex="0"><ul class="simple">
<li><p>安装DaoAI相机工作室软件</p></li>
</ul>
</div><div aria-labelledby="tab-0-QyM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-QyM=" name="QyM=" role="tabpanel" tabindex="0"><ul class="simple">
<li><p>安装DaoAI相机工作室软件</p></li>
</ul>
</div><div aria-labelledby="tab-0-UHl0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><ul>
<li><p>安装 Python</p></li>
<li><p>通过在你的命令行中输入follow命令来检查你的python版本，然后选择一个SDK包：</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">--</span><span class="n">version</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Python version 3.8: DaoAI_SDK-xx-cp38-xx-xx.whl</p></li>
<li><p>Python version 3.9: DaoAI_SDK-xx-cp39-xx-xx.whl</p></li>
<li><p>Python version 3.10: DaoAI_SDK-xx-cp310-xx-xx.whl</p></li>
<li><p>Python version 3.11: DaoAI_SDK-xx-cp311-xx-xx.whl</p></li>
</ul>
</div></blockquote>
</li>
<li><p>安装 DaoAI_SDK</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">py</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">DaoAI_SDK</span><span class="o">-</span><span class="n">xx</span><span class="o">-</span><span class="n">xx</span><span class="o">.</span><span class="n">xx</span><span class="o">.</span><span class="n">xx</span><span class="o">.</span><span class="n">whl</span>
</pre></div>
</div>
<ul>
<li><p>如果所需的依赖项在发布时没有被捆绑到软件包中：</p>
<blockquote>
<div><ul class="simple">
<li><p>在你的Python程序的顶部添加以下几行代码，告诉Python在哪里找到所需的依赖（只需要一次）。</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">daoai_slc_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;DAOAI_SLC_PATH&#39;</span><span class="p">)</span> <span class="c1"># System enviornment variable should point to DaoAI Studio Release path.</span>
<span class="n">os</span><span class="o">.</span><span class="n">add_dll_directory</span><span class="p">(</span><span class="n">daoai_slc_path</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="c1"># Various dependencies</span>
<span class="n">os</span><span class="o">.</span><span class="n">add_dll_directory</span><span class="p">(</span><span class="n">daoai_slc_path</span> <span class="o">+</span> <span class="s1">&#39;/bin&#39;</span><span class="p">)</span> <span class="c1"># Various dependencies</span>
<span class="n">os</span><span class="o">.</span><span class="n">add_dll_directory</span><span class="p">(</span><span class="n">daoai_slc_path</span> <span class="o">+</span> <span class="s1">&#39;/SDK/bin&#39;</span><span class="p">)</span> <span class="c1"># Directory including slc_dll.dll</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>要使用API函数，请将SDK导入到python中。</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">DaoAI_SDK</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<ul class="simple">
<li><p>All set to use the Python API!</p></li>
</ul>
</div></div>
</section>
</section>
<section id="id4">
<h2><a class="toc-backref" href="#id20" role="doc-backlink">帮助函数</a><a class="headerlink" href="#id4" title="此标题的永久链接"></a></h2>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-Qysr" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-Qysr" name="Qysr" role="tab" tabindex="0">C++</button><button aria-controls="panel-1-QyM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button><button aria-controls="panel-1-UHl0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-1-Qysr" class="sphinx-tabs-panel group-tab" id="panel-1-Qysr" name="Qysr" role="tabpanel" tabindex="0"><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// 用于检查返回的SlcSdkError对象的错误信息的辅助工具。</span>
<span class="kt">bool</span><span class="w"> </span><span class="nf">hasError</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">SlcSdkError</span><span class="w"> </span><span class="n">error_info</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">error_info</span><span class="p">.</span><span class="n">status</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">DaoAI</span><span class="o">::</span><span class="n">SlcSdkSuccess</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// 状态代码SlcSdkSuccess表示没有发现错误。</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 请查阅文档或头文件error.h了解不同错误状态代码的含义。</span>
<span class="w">        </span><span class="c1">// 大多数错误会有一个详细的描述，有助于调试。参见SlcSdkError.details()。</span>
<span class="w">        </span><span class="c1">//     注意：即使状态码是SlcSdkSuccess，细节部分仍然可能包括警告。</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;ERROR &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">error_info</span><span class="p">.</span><span class="n">status</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">error_info</span><span class="p">.</span><span class="n">details</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-QyM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-QyM=" name="QyM=" role="tabpanel" tabindex="0"><div class="highlight-c# notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">HasError</span><span class="p">(</span><span class="n">DaoAINETError</span><span class="w"> </span><span class="n">err</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="p">.</span><span class="n">status</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">DaoAINETStatus</span><span class="p">.</span><span class="n">SlcSdkSuccess</span><span class="p">)</span>
<span class="w">   </span><span class="p">{</span>
<span class="w">         </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span><span class="w">  </span><span class="c1">// 状态代码SlcSdkSuccess表示没有发现错误。</span>
<span class="w">   </span><span class="p">}</span>
<span class="w">   </span><span class="k">else</span>
<span class="w">   </span><span class="p">{</span>
<span class="w">         </span><span class="c1">// 请查阅文档了解不同错误状态代码的含义。</span>
<span class="w">         </span><span class="c1">// 大多数错误会有详细的描述，对调试有帮助。参见DaoAINETError.details()。</span>
<span class="w">         </span><span class="c1">// 注意：即使状态码是SlcSdkSuccess，细节部分仍然可能包括警告。</span>
<span class="w">         </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;ERROR: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">err</span><span class="p">.</span><span class="n">status</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">err</span><span class="p">.</span><span class="n">details</span><span class="p">());</span>
<span class="w">         </span><span class="n">System</span><span class="p">.</span><span class="n">Threading</span><span class="p">.</span><span class="n">Thread</span><span class="p">.</span><span class="n">Sleep</span><span class="p">(</span><span class="m">20000</span><span class="p">);</span>
<span class="w">         </span><span class="k">return</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
<span class="w">   </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-UHl0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 用于检查返回的SlcSdkError对象的错误信息的辅助工具。</span>
<span class="k">def</span> <span class="nf">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">):</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">err</span><span class="o">.</span><span class="n">status</span><span class="p">()</span> <span class="o">==</span> <span class="n">SlcSdkSuccess</span><span class="p">):</span> <span class="c1"># A status code of SlcSdkSuccess indicates that no error is detected.</span>
         <span class="k">return</span> <span class="kc">False</span>
   <span class="k">else</span><span class="p">:</span>
         <span class="c1"># 请查阅文档了解不同错误状态代码的含义。</span>
         <span class="c1"># 大多数错误会有详细的描述，对调试有帮助。参见DaoAINETError.details()。</span>
         <span class="c1"># 注意：即使状态码是SlcSdkSuccess，细节部分仍然可能包括警告。</span>
         <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ERROR: &quot;</span><span class="p">,</span> <span class="n">err</span><span class="o">.</span><span class="n">status</span><span class="p">(),</span> <span class="s2">&quot;: &quot;</span><span class="p">,</span> <span class="n">err</span><span class="o">.</span><span class="n">details</span><span class="p">())</span>
         <span class="k">return</span> <span class="kc">True</span>
</pre></div>
</div>
</div></div>
</section>
<section id="id5">
<h2><a class="toc-backref" href="#id21" role="doc-backlink">设置</a><a class="headerlink" href="#id5" title="此标题的永久链接"></a></h2>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-Qysr" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-Qysr" name="Qysr" role="tab" tabindex="0">C++</button><button aria-controls="panel-2-QyM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button><button aria-controls="panel-2-UHl0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-2-Qysr" class="sphinx-tabs-panel group-tab" id="panel-2-Qysr" name="Qysr" role="tabpanel" tabindex="0"><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// 设置 ==========================================================================================================</span>
<span class="c1">// 声明一个错误返回对象，以检查整个应用程序的错误。</span>
<span class="n">DaoAI</span><span class="o">::</span><span class="n">SlcSdkError</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>

<span class="c1">// 创建一个新的DaoAI应用程序实例。</span>
<span class="n">DaoAI</span><span class="o">::</span><span class="n">Application</span><span class="o">*</span><span class="w"> </span><span class="n">app</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Application</span><span class="p">();</span>

<span class="c1">// 指定用于记录的目录。日志包含详细的错误和进程信息。</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">logging_directory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;../../Logs/&quot;</span><span class="p">;</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">app</span><span class="o">-&gt;</span><span class="n">startLogging</span><span class="p">(</span><span class="n">logging_directory</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 如果使用远程相机，请指定远程IP地址。</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">remote_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;192.168.1.2&quot;</span><span class="p">;</span>

<span class="c1">// 声明相机地图，该地图将用于获取所有连接的DaoAI相机。</span>
<span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Camera</span><span class="o">*&gt;</span><span class="w"> </span><span class="n">cameras</span><span class="p">;</span>

<span class="c1">//  从应用程序中获取相机。这一步必须在尝试连接任何相机之前完成。</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">app</span><span class="o">-&gt;</span><span class="n">getCameras</span><span class="p">(</span><span class="n">cameras</span><span class="p">,</span><span class="w"> </span><span class="n">remote_ip</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cameras</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="c1">// 必须检测到至少有一台相机。</span>
<span class="p">}</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">cameras</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; cameras detected.&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Camera</span><span class="o">*&gt;</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">cameras</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;      &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">pair</span><span class="p">.</span><span class="n">first</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="c1">// 打印检测到的相机的序列号。</span>
<span class="p">}</span>

<span class="c1">// 声明指向DaoAI相机对象的指针。</span>
<span class="n">DaoAI</span><span class="o">::</span><span class="n">Camera</span><span class="o">*</span><span class="w"> </span><span class="n">cam</span><span class="p">;</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-2-QyM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-QyM=" name="QyM=" role="tabpanel" tabindex="0"><div class="highlight-c# notranslate"><div class="highlight"><pre><span></span><span class="c1">// 设置 ==========================================================================================================</span>
<span class="c1">// 声明一个错误返回对象，以检查整个应用程序的错误。</span>
<span class="n">DaoAINETError</span><span class="w"> </span><span class="n">err</span><span class="p">;</span>

<span class="c1">// 创建一个新的DaoAI应用程序实例。</span>
<span class="n">Application</span><span class="w"> </span><span class="n">app</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Application</span><span class="p">();</span>

<span class="c1">// 指定用于记录的目录。日志包含详细的错误和进程信息。</span>
<span class="kt">string</span><span class="w"> </span><span class="n">logging_directory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;../../../../../Logs/&quot;</span><span class="p">;</span>

<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">app</span><span class="p">.</span><span class="n">startLogging</span><span class="p">(</span><span class="n">logging_directory</span><span class="p">);</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>


<span class="c1">// 如果使用远程相机，请指定远程IP地址。</span>
<span class="kt">string</span><span class="w"> </span><span class="n">remote_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;192.168.1.2&quot;</span><span class="p">;</span>

<span class="c1">// 声明一个相机的字典，它将被用来获取所有连接的DaoAI相机。</span>
<span class="c1">// 字典包含在Systems.Collections.Generic命名空间中。</span>
<span class="n">Dictionary</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="n">Camera</span><span class="o">&gt;</span><span class="w"> </span><span class="n">cameras</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Dictionary</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="n">Camera</span><span class="o">&gt;</span><span class="p">();</span>

<span class="c1">// 从应用程序中获取相机。这一步必须在尝试连接任何相机之前完成。</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">app</span><span class="p">.</span><span class="n">getCameras</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">cameras</span><span class="p">,</span><span class="w"> </span><span class="n">remote_ip</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cameras</span><span class="p">.</span><span class="n">Count</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">0</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="c1">// 必须检测到至少有一台相机。</span>
<span class="p">}</span>
<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">cameras</span><span class="p">.</span><span class="n">Count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; cameras detected.&quot;</span><span class="p">);</span>

<span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="n">KeyValuePair</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="n">Camera</span><span class="o">&gt;</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">cameras</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">      </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;   &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">pair</span><span class="p">.</span><span class="n">Key</span><span class="p">);</span><span class="w">  </span><span class="c1">// 打印检测到的相机的序列号。</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-2-UHl0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 设置 ==========================================================================================================</span>
<span class="c1"># 创建一个新的DaoAI应用程序实例。</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Application</span><span class="p">()</span>

<span class="c1"># 指定用于记录的目录。日志包含详细的错误和进程信息。</span>
<span class="n">logging_directory</span> <span class="o">=</span> <span class="s2">&quot;../../Logs/&quot;</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">startLogging</span><span class="p">(</span><span class="n">logging_directory</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>

<span class="c1"># 如果使用远程相机，请指定远程IP地址。</span>
<span class="n">remote_ip</span> <span class="o">=</span> <span class="s2">&quot;192.168.1.2&quot;</span>

<span class="c1"># 从应用程序中获取相机。这一步必须在尝试连接任何相机之前完成。</span>
<span class="n">cams</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">getCameras</span><span class="p">(</span><span class="n">remote_ip</span><span class="p">)</span> <span class="c1"># remote_ip is optional if using a USB camera.</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>

<span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cams</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
   <span class="k">return</span> <span class="c1"># At least one camera must be detected.</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cams</span><span class="p">),</span> <span class="s2">&quot; cameras detected: &quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">serial</span><span class="p">,</span> <span class="n">cam</span> <span class="ow">in</span> <span class="n">cams</span><span class="o">.</span><span class="n">items</span><span class="p">():</span> <span class="c1"># Cams is a dictionary of serial number -&gt; camera object.</span>
   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;    &quot;</span><span class="p">,</span> <span class="n">serial</span><span class="p">)</span> <span class="c1"># Print all serial numbers of detected cameras.</span>
</pre></div>
</div>
</div></div>
</section>
<section id="id6">
<h2><a class="toc-backref" href="#id22" role="doc-backlink">连接相机</a><a class="headerlink" href="#id6" title="此标题的永久链接"></a></h2>
<p>连接相机有3个选项。</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-3-Qysr" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-3-Qysr" name="Qysr" role="tab" tabindex="0">C++</button><button aria-controls="panel-3-QyM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button><button aria-controls="panel-3-UHl0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-3-Qysr" class="sphinx-tabs-panel group-tab" id="panel-3-Qysr" name="Qysr" role="tabpanel" tabindex="0"><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// 连接相机 =========================================================================================</span>
<span class="c1">// 必须先连接一个DaoAI相机，然后才能使用它进行采集。</span>
<span class="c1">// 选项 1：连接到第一个检测到的DaoAI相机。</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">app</span><span class="o">-&gt;</span><span class="n">connectCamera</span><span class="p">(</span><span class="n">cam</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">disConnect</span><span class="p">();</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 选项 2：通过序列号连接到特定的相机。</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">serial_num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cameras</span><span class="p">.</span><span class="n">begin</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">first</span><span class="p">;</span><span class="w"> </span><span class="c1">// 从地图上的第一台相机上获取序列号。</span>
<span class="c1">// 方法 A</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">app</span><span class="o">-&gt;</span><span class="n">connectCamera</span><span class="p">(</span><span class="n">serial_num</span><span class="p">,</span><span class="w"> </span><span class="n">cam</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">app</span><span class="o">-&gt;</span><span class="n">disconnectCamera</span><span class="p">(</span><span class="n">serial_num</span><span class="p">);</span><span class="w"> </span><span class="c1">//  也可以通过序列号断开摄像头。</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="c1">// 方法 B</span>
<span class="n">cam</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cameras</span><span class="p">[</span><span class="n">serial_num</span><span class="p">];</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">connect</span><span class="p">();</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">app</span><span class="o">-&gt;</span><span class="n">disconnectCamera</span><span class="p">(</span><span class="n">serial_num</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 选项 3：连接在相机地图中发现的任何相机。</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cameras</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="n">cam</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cameras</span><span class="p">.</span><span class="n">begin</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">second</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">connect</span><span class="p">();</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-3-QyM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-QyM=" name="QyM=" role="tabpanel" tabindex="0"><div class="highlight-c# notranslate"><div class="highlight"><pre><span></span><span class="c1">// 连接相机 =========================================================================================</span>
<span class="c1">// 必须先连接一个DaoAI相机，然后才能使用它进行采集。</span>
<span class="c1">// 选项 1：连接到第一个检测到的DaoAI相机。</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">app</span><span class="p">.</span><span class="n">connectCamera</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">cam</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">disConnect</span><span class="p">();</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 选项 2：通过序列号连接到特定的相机。</span>
<span class="kt">string</span><span class="w"> </span><span class="n">serial_num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cameras</span><span class="p">.</span><span class="n">Keys</span><span class="p">.</span><span class="n">First</span><span class="p">();</span><span class="w"> </span><span class="c1">// 从地图上的第一台相机上获取序列号。</span>
<span class="w">      </span><span class="c1">// 方法 A</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">app</span><span class="p">.</span><span class="n">connectCamera</span><span class="p">(</span><span class="n">serial_num</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">cam</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">disConnect</span><span class="p">();</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="w">      </span><span class="c1">// 方法 B</span>
<span class="n">cam</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cameras</span><span class="p">[</span><span class="n">serial_num</span><span class="p">];</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">connect</span><span class="p">();</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">disConnect</span><span class="p">();</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 选项 3：连接在相机地图中发现的任何相机。</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cameras</span><span class="p">.</span><span class="n">Count</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">      </span><span class="n">cam</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cameras</span><span class="p">.</span><span class="n">Values</span><span class="p">.</span><span class="n">First</span><span class="p">();</span>
<span class="p">}</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">connect</span><span class="p">();</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-3-UHl0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 连接相机 =========================================================================================</span>
<span class="c1"># 必须先连接一个DaoAI相机，然后才能使用它进行采集。</span>
<span class="c1"># 选项 1：连接到第一个检测到的DaoAI相机。</span>
<span class="n">cam</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">connectCamera</span><span class="p">()</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="n">cam</span><span class="o">.</span><span class="n">disConnect</span><span class="p">()</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>

<span class="c1"># 选项 2：通过序列号连接到特定的相机。</span>
<span class="n">serial_number</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">cams</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># Grab serial number from first camera in dictionary.</span>
<span class="c1"># 方法 A</span>
<span class="n">cam</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">connectCamera</span><span class="p">(</span><span class="n">serial_number</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="n">cam</span><span class="o">.</span><span class="n">disConnect</span><span class="p">()</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="c1"># 方法 B</span>
<span class="n">cam</span> <span class="o">=</span> <span class="n">cams</span><span class="p">[</span><span class="n">serial_number</span><span class="p">]</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="n">cam</span><span class="o">.</span><span class="n">disConnect</span><span class="p">()</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>

<span class="c1"># 选项 3：连接在相机地图中发现的任何相机。</span>
<span class="n">cam</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">cams</span><span class="o">.</span><span class="n">values</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># Grab first camera object in dictionary.</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
</pre></div>
</div>
</div></div>
</section>
<section id="id7">
<h2><a class="toc-backref" href="#id23" role="doc-backlink">相机动作</a><a class="headerlink" href="#id7" title="此标题的永久链接"></a></h2>
<p>获取序列号、相机固有参数和相机设置信息。</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-4-Qysr" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-4-Qysr" name="Qysr" role="tab" tabindex="0">C++</button><button aria-controls="panel-4-QyM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button><button aria-controls="panel-4-UHl0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-4-Qysr" class="sphinx-tabs-panel group-tab" id="panel-4-Qysr" name="Qysr" role="tabpanel" tabindex="0"><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// 相机动作 =================================================================================================</span>
<span class="c1">// 有些相机操作需要相机，请务必查看文档和错误信息。</span>
<span class="c1">// 检查相机是否已连接。</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">isConnected</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// 获取此相机的序列号。</span>
<span class="n">serial_num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">getSerialNumber</span><span class="p">();</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Serial number of connected camera is &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">serial_num</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

<span class="c1">// 获取相机内参。</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="w"> </span><span class="n">intrinsic_params</span><span class="p">;</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">getIntrinsicParam</span><span class="p">(</span><span class="n">intrinsic_params</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 获取此相机当前的使用设置。</span>
<span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">getSettings</span><span class="p">();</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-4-QyM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-QyM=" name="QyM=" role="tabpanel" tabindex="0"><div class="highlight-c# notranslate"><div class="highlight"><pre><span></span><span class="c1">// 相机动作 =================================================================================================</span>
<span class="c1">// 有些相机操作需要相机已连接，请务必查看文档和错误信息。</span>
<span class="c1">// 检查相机是否已连接。</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">cam</span><span class="p">.</span><span class="n">isConnected</span><span class="p">())</span>
<span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// 获取此相机的序列号。</span>
<span class="n">serial_num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">getSerialNumber</span><span class="p">();</span>
<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Serial number of connected camera is &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">serial_num</span><span class="p">);</span>

<span class="c1">// 获取相机内参。</span>
<span class="kt">float</span><span class="p">[]</span><span class="w"> </span><span class="n">intrinsic_params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="p">[]</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">};</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">getIntrinsicParam</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">intrinsic_params</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 获取此相机当前的使用设置。</span>
<span class="n">Settings</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">getSettings</span><span class="p">();</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-4-UHl0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 相机动作 =================================================================================================</span>
<span class="c1"># 有些相机操作需要相机已连接，请务必查看文档和错误信息。</span>
<span class="c1"># 检查相机是否已连接。</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">cam</span><span class="o">.</span><span class="n">isConnected</span><span class="p">():</span>
   <span class="k">return</span>

<span class="c1"># 获取此相机的序列号。</span>
<span class="n">serial_num</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">getSerialNumber</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Serial number of connected camera is &quot;</span><span class="p">,</span> <span class="n">serial_num</span><span class="p">)</span>

<span class="c1"># 获取相机内参。</span>
<span class="n">params</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">getIntrinsicParam</span><span class="p">()</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>

<span class="c1"># 获取此相机当前的使用设置。</span>
<span class="n">settings</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">getSettings</span><span class="p">()</span>
</pre></div>
</div>
</div></div>
</section>
<section id="id8">
<h2><a class="toc-backref" href="#id24" role="doc-backlink">相机设置</a><a class="headerlink" href="#id8" title="此标题的永久链接"></a></h2>
<p>创建相机设置并从相机设置文件中加载。</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-5-Qysr" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-5-Qysr" name="Qysr" role="tab" tabindex="0">C++</button><button aria-controls="panel-5-QyM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button><button aria-controls="panel-5-UHl0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-5-Qysr" class="sphinx-tabs-panel group-tab" id="panel-5-Qysr" name="Qysr" role="tabpanel" tabindex="0"><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// 相机设置 ================================================================================================</span>
<span class="c1">// DaoAI Settings 可以与相机一起使用，在拍摄和重建过程中调整参数。</span>
<span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="w"> </span><span class="n">new_settings</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="n">icurr</span><span class="p">,</span><span class="w"> </span><span class="n">imin</span><span class="p">,</span><span class="w"> </span><span class="n">imax</span><span class="p">;</span><span class="w"> </span><span class="c1">// 用这些来查询整数设置。</span>
<span class="kt">double</span><span class="w"> </span><span class="n">dcurr</span><span class="p">,</span><span class="w"> </span><span class="n">dmin</span><span class="p">,</span><span class="w"> </span><span class="n">dmax</span><span class="p">;</span><span class="w"> </span><span class="c1">// 用这些来查询双精度浮点型设置。</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">bcurr</span><span class="p">;</span><span class="w"> </span><span class="c1">// 用这个来查询布尔值设置。</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">scurr</span><span class="p">;</span><span class="w"> </span><span class="c1">// 用这个来查询字符串的设置。</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">is_enabled</span><span class="p">;</span><span class="w"> </span><span class="c1">// 用这个来检查一个设置是否被启用。</span>
<span class="kt">int</span><span class="w"> </span><span class="n">inewval</span><span class="p">;</span><span class="w"> </span><span class="c1">// 用这个来为一个设置设置一个新的整数值。</span>
<span class="kt">double</span><span class="w"> </span><span class="n">dnewval</span><span class="p">;</span><span class="w"> </span><span class="c1">// 用这个来为一个设置设置一个新的双精度浮点型值。</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">bnewval</span><span class="p">;</span><span class="w"> </span><span class="c1">// 用这个来为一个设置设置一个新的布尔值。</span>
<span class="c1">// 创建新的空相机设置。</span>
<span class="n">new_settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="p">();</span>
<span class="c1">// 从文件中加载现有的相机设置。</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">path_to_settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;../../Examples/sample_settings.cfg&quot;</span><span class="p">;</span>
<span class="n">new_settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="p">(</span><span class="n">path_to_settings</span><span class="p">);</span>
<span class="c1">// Clone 设置</span>
<span class="n">new_settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="p">(</span><span class="n">settings</span><span class="p">);</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-5-QyM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-QyM=" name="QyM=" role="tabpanel" tabindex="0"><div class="highlight-c# notranslate"><div class="highlight"><pre><span></span><span class="c1">// 相机设置 ================================================================================================</span>
<span class="c1">// DaoAI Settings 可以与相机一起使用，在拍摄和重建过程中调整参数。</span>
<span class="n">Settings</span><span class="w"> </span><span class="n">new_settings</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="n">icurr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">imin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">imax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="c1">// 用这些来查询整数设置。</span>
<span class="kt">double</span><span class="w"> </span><span class="n">dcurr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="m">1.0</span><span class="p">,</span><span class="w"> </span><span class="n">dmin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="m">1.0</span><span class="p">,</span><span class="w"> </span><span class="n">dmax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="m">1.0</span><span class="p">;</span><span class="w"> </span><span class="c1">// 用这些来查询双精度浮点型设置。</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">bcurr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// 用这个来查询布尔值设置。</span>
<span class="kt">string</span><span class="w"> </span><span class="n">scurr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// 用这个来查询字符串的设置。</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">is_enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// 用这个来检查一个设置是否被启用。</span>
<span class="kt">int</span><span class="w"> </span><span class="n">inewval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// 用这个来为一个设置设置一个新的整数值。</span>
<span class="kt">double</span><span class="w"> </span><span class="n">dnewval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.0</span><span class="p">;</span><span class="w"> </span><span class="c1">// 用这个来为一个设置设置一个新的双精度浮点型值。</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">bnewval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">true</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">// 用这个来为一个设置设置一个新的布尔值。</span>

<span class="c1">// 创建新的空相机设置。</span>
<span class="n">new_settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Settings</span><span class="p">();</span>
<span class="c1">// 从文件中加载现有的相机设置。</span>
<span class="kt">string</span><span class="w"> </span><span class="n">path_to_settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;../../../../../Examples/sample_settings.cfg&quot;</span><span class="p">;</span>
<span class="n">new_settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Settings</span><span class="p">(</span><span class="n">path_to_settings</span><span class="p">);</span>
<span class="c1">// Clone 设置</span>
<span class="n">new_settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Settings</span><span class="p">(</span><span class="n">settings</span><span class="p">);</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-5-UHl0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 相机设置 ================================================================================================</span>
<span class="c1"># DaoAI Settings 可以与相机一起使用，在拍摄和重建过程中调整参数。 Create a new empty settings object.</span>
<span class="c1"># 创建新的空相机设置。</span>
<span class="n">new_settings</span> <span class="o">=</span> <span class="n">Settings</span><span class="p">()</span>
<span class="c1"># 从文件中加载现有的相机设置。</span>
<span class="n">path_to_settings</span> <span class="o">=</span> <span class="s2">&quot;../../Examples/sample_settings.cfg&quot;</span>
<span class="n">new_settings</span> <span class="o">=</span> <span class="n">Settings</span><span class="p">(</span><span class="n">path_to_settings</span><span class="p">)</span>
<span class="c1"># Clone 设置</span>
<span class="n">new_settings</span> <span class="o">=</span> <span class="n">Settings</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
</pre></div>
</div>
</div></div>
<section id="id9">
<h3><a class="toc-backref" href="#id25" role="doc-backlink">采集帧</a><a class="headerlink" href="#id9" title="此标题的永久链接"></a></h3>
<p>配置采集帧参数。</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-6-Qysr" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-6-Qysr" name="Qysr" role="tab" tabindex="0">C++</button><button aria-controls="panel-6-QyM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-6-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button><button aria-controls="panel-6-UHl0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-6-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-6-Qysr" class="sphinx-tabs-panel group-tab" id="panel-6-Qysr" name="Qysr" role="tabpanel" tabindex="0"><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// 采集帧</span>
<span class="c1">// 采集帧指定在图像采集过程中使用的参数。一个设置对象最多可以支持10个。</span>
<span class="c1">// 每个采集框都有三个可修改的参数： 亮度、增益和曝光档。</span>
<span class="c1">// 详情请参见文档。</span>
<span class="n">DaoAI</span><span class="o">::</span><span class="n">AcquisitionFrame</span><span class="w"> </span><span class="n">af</span><span class="p">;</span>

<span class="c1">// 创建默认的 AcquisitionFrame</span>
<span class="n">af</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DaoAI</span><span class="o">::</span><span class="n">AcquisitionFrame</span><span class="p">();</span>

<span class="c1">// 用初始值创建 AcquisitionFrame</span>
<span class="kt">int</span><span class="w"> </span><span class="n">brightness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="kt">double</span><span class="w"> </span><span class="n">gain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.0</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="n">exposure_stop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<span class="n">af</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DaoAI</span><span class="o">::</span><span class="n">AcquisitionFrame</span><span class="p">(</span><span class="n">brightness</span><span class="p">,</span><span class="w"> </span><span class="n">gain</span><span class="p">,</span><span class="w"> </span><span class="n">exposure_stop</span><span class="p">);</span>

<span class="c1">// 查看任何 AcquisitionFrame 参数的当前值和可接受范围。</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">af</span><span class="p">.</span><span class="n">inquireSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">AcquisitionFrame</span><span class="o">::</span><span class="n">ExposureStop</span><span class="p">,</span><span class="w"> </span><span class="n">icurr</span><span class="p">,</span><span class="w"> </span><span class="n">imin</span><span class="p">,</span><span class="w"> </span><span class="n">imax</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Current exposure stop: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">icurr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;. Exposure stop can be configured to any value between &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">imin</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; - &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">imax</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">af</span><span class="p">.</span><span class="n">inquireSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">AcquisitionFrame</span><span class="o">::</span><span class="n">ExposureStop</span><span class="p">,</span><span class="w"> </span><span class="n">icurr</span><span class="p">);</span><span class="w"> </span><span class="c1">// Inquire only current value.</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 将任何AcquisitionFrame参数配置为一个自定义值。</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">af</span><span class="p">.</span><span class="n">configureSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">AcquisitionFrame</span><span class="o">::</span><span class="n">ExposureStop</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 双精度浮点参数也可以用双精度浮点值进行检索和修改。</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">af</span><span class="p">.</span><span class="n">inquireSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">AcquisitionFrame</span><span class="o">::</span><span class="n">Gain</span><span class="p">,</span><span class="w"> </span><span class="n">dcurr</span><span class="p">,</span><span class="w"> </span><span class="n">dmin</span><span class="p">,</span><span class="w"> </span><span class="n">dmax</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Current gain: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">dcurr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;. Gain can be configured to any value between &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">dmin</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; - &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">dmax</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">af</span><span class="p">.</span><span class="n">inquireSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">AcquisitionFrame</span><span class="o">::</span><span class="n">Gain</span><span class="p">,</span><span class="w"> </span><span class="n">dcurr</span><span class="p">);</span><span class="w"> </span><span class="c1">// Inquire only current value.</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">af</span><span class="p">.</span><span class="n">configureSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">AcquisitionFrame</span><span class="o">::</span><span class="n">Gain</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 使用不正确的类型来配置或查询一个参数会成功，但会返回一个警告。</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">af</span><span class="p">.</span><span class="n">inquireSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">AcquisitionFrame</span><span class="o">::</span><span class="n">Gain</span><span class="p">,</span><span class="w"> </span><span class="n">icurr</span><span class="p">,</span><span class="w"> </span><span class="n">imin</span><span class="p">,</span><span class="w"> </span><span class="n">imax</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ret</span><span class="p">.</span><span class="n">details</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="c1">// Warning about possible data loss, attempting to read double as int.</span>
<span class="n">dnewval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.5</span><span class="p">;</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">af</span><span class="p">.</span><span class="n">configureSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">AcquisitionFrame</span><span class="o">::</span><span class="n">ExposureStop</span><span class="p">,</span><span class="w"> </span><span class="n">dnewval</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ret</span><span class="p">.</span><span class="n">details</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="c1">// Warning about possible data loss, attempting to set int with double.</span>

<span class="c1">// 在设置中添加采集帧。</span>
<span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">;</span><span class="w"> </span><span class="c1">// Index of added acquisition frame.</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">addAcquisitionFrame</span><span class="p">(</span><span class="n">af</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 获取采集帧。</span>
<span class="n">DaoAI</span><span class="o">::</span><span class="n">AcquisitionFrame</span><span class="w"> </span><span class="n">returned_af</span><span class="p">;</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">getAcquisitionFrame</span><span class="p">(</span><span class="n">returned_af</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 删除索引值的采集帧。</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">deleteAcquisitionFrame</span><span class="p">(</span><span class="n">index</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 不获取索引添加采集帧。</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">addAcquisitionFrame</span><span class="p">(</span><span class="n">af</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 修改并替换索引1处的采集帧。</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">af</span><span class="p">.</span><span class="n">configureSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">AcquisitionFrame</span><span class="o">::</span><span class="n">Brightness</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">modifyAcquisitionFrame</span><span class="p">(</span><span class="n">af</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">DaoAI</span><span class="o">::</span><span class="n">AcquisitionFrame</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mofaf</span><span class="p">;</span>
<span class="c1">// 获取整个采集帧地图的副本。</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">getAcquisitionFrames</span><span class="p">(</span><span class="n">mofaf</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 将采集帧的地图设置为设置。</span>
<span class="n">mofaf</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DaoAI</span><span class="o">::</span><span class="n">AcquisitionFrame</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="n">mofaf</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DaoAI</span><span class="o">::</span><span class="n">AcquisitionFrame</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">setAcquisitionFrames</span><span class="p">(</span><span class="n">mofaf</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-6-QyM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-6-QyM=" name="QyM=" role="tabpanel" tabindex="0"><div class="highlight-c# notranslate"><div class="highlight"><pre><span></span><span class="c1">// 采集帧</span>
<span class="c1">// 采集帧指定在图像采集过程中使用的参数。一个设置对象最多可以支持10个。</span>
<span class="c1">// 每个采集框都有三个可修改的参数： 亮度、增益和曝光档。</span>
<span class="c1">// 详情请参见文档。</span>
<span class="n">AcquisitionFrame</span><span class="w"> </span><span class="n">af</span><span class="p">;</span>

<span class="c1">// 创建默认的 AcquisitionFrame</span>
<span class="n">af</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AcquisitionFrame</span><span class="p">();</span>

<span class="c1">// 用初始值创建 AcquisitionFrame</span>
<span class="kt">int</span><span class="w"> </span><span class="n">brightness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="p">;</span>
<span class="kt">double</span><span class="w"> </span><span class="n">gain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2.0</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="n">exposure_stop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="m">1</span><span class="p">;</span>
<span class="n">af</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AcquisitionFrame</span><span class="p">(</span><span class="n">brightness</span><span class="p">,</span><span class="w"> </span><span class="n">gain</span><span class="p">,</span><span class="w"> </span><span class="n">exposure_stop</span><span class="p">);</span>

<span class="c1">// 查看任何 AcquisitionFrame 参数的当前值和可接受范围。</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">af</span><span class="p">.</span><span class="n">inquireSetting</span><span class="p">(</span><span class="n">AcquisitionFrame</span><span class="p">.</span><span class="n">AcquisitionFrameSetting</span><span class="p">.</span><span class="n">ExposureStop</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">icurr</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">imin</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">imax</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Current exposure stop: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">icurr</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;. Exposure stop can be configured to any value between &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">imin</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; - &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">imax</span><span class="p">);</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">af</span><span class="p">.</span><span class="n">inquireSetting</span><span class="p">(</span><span class="n">AcquisitionFrame</span><span class="p">.</span><span class="n">AcquisitionFrameSetting</span><span class="p">.</span><span class="n">ExposureStop</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">icurr</span><span class="p">);</span><span class="w"> </span><span class="c1">// Inquire only current value.</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 将任何AcquisitionFrame参数配置为一个自定义值。</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">af</span><span class="p">.</span><span class="n">configureSetting</span><span class="p">(</span><span class="n">AcquisitionFrame</span><span class="p">.</span><span class="n">AcquisitionFrameSetting</span><span class="p">.</span><span class="n">ExposureStop</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 双精度浮点参数也可以用双精度浮点值进行检索和修改。</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">af</span><span class="p">.</span><span class="n">inquireSetting</span><span class="p">(</span><span class="n">AcquisitionFrame</span><span class="p">.</span><span class="n">AcquisitionFrameSetting</span><span class="p">.</span><span class="n">Gain</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">dcurr</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">dmin</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">dmax</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Current gain: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dcurr</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;. Gain can be configured to any value between &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dmin</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; - &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dmax</span><span class="p">);</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">af</span><span class="p">.</span><span class="n">inquireSetting</span><span class="p">(</span><span class="n">AcquisitionFrame</span><span class="p">.</span><span class="n">AcquisitionFrameSetting</span><span class="p">.</span><span class="n">Gain</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">dcurr</span><span class="p">);</span><span class="w"> </span><span class="c1">// Inquire only current value.</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">af</span><span class="p">.</span><span class="n">configureSetting</span><span class="p">(</span><span class="n">AcquisitionFrame</span><span class="p">.</span><span class="n">AcquisitionFrameSetting</span><span class="p">.</span><span class="n">Gain</span><span class="p">,</span><span class="w"> </span><span class="m">2.1</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 使用不正确的类型来配置或查询一个参数会成功，但会返回一个警告。</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">af</span><span class="p">.</span><span class="n">inquireSetting</span><span class="p">(</span><span class="n">AcquisitionFrame</span><span class="p">.</span><span class="n">AcquisitionFrameSetting</span><span class="p">.</span><span class="n">Gain</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">icurr</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">imin</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">imax</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">err</span><span class="p">.</span><span class="n">details</span><span class="p">());</span><span class="w"> </span><span class="c1">// Warning about possible data loss, attempting to read double as int.</span>
<span class="n">dnewval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1.5</span><span class="p">;</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">af</span><span class="p">.</span><span class="n">configureSetting</span><span class="p">(</span><span class="n">AcquisitionFrame</span><span class="p">.</span><span class="n">AcquisitionFrameSetting</span><span class="p">.</span><span class="n">ExposureStop</span><span class="p">,</span><span class="w"> </span><span class="n">dnewval</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">err</span><span class="p">.</span><span class="n">details</span><span class="p">());</span><span class="w"> </span><span class="c1">// Warning about possible data loss, attempting to set int with double.</span>

<span class="c1">// 在设置中添加采集帧。</span>
<span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="c1">// Index of added acquisition frame.</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">addAcquisitionFrame</span><span class="p">(</span><span class="n">af</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">index</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 获取采集帧。</span>
<span class="n">AcquisitionFrame</span><span class="w"> </span><span class="n">returned_af</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AcquisitionFrame</span><span class="p">();</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">getAcquisitionFrame</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">returned_af</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 删除索引值的采集帧。</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">deleteAcquisitionFrame</span><span class="p">(</span><span class="n">index</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 不获取索引添加采集帧。</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">addAcquisitionFrame</span><span class="p">(</span><span class="n">af</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 修改并替换索引1处的采集帧。</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">af</span><span class="p">.</span><span class="n">configureSetting</span><span class="p">(</span><span class="n">AcquisitionFrame</span><span class="p">.</span><span class="n">AcquisitionFrameSetting</span><span class="p">.</span><span class="n">Brightness</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">modifyAcquisitionFrame</span><span class="p">(</span><span class="n">af</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="n">Dictionary</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">AcquisitionFrame</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mofaf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Dictionary</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">AcquisitionFrame</span><span class="o">&gt;</span><span class="p">();</span>
<span class="c1">// Get copy of entire dictionary of acquisition frames currently saved in settings.</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">getAcquisitionFrames</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">mofaf</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 将采集帧的地图设置为设置。请记住，采集帧的字典是单索引的。</span>
<span class="n">mofaf</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AcquisitionFrame</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">);</span>
<span class="n">mofaf</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AcquisitionFrame</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">);</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">setAcquisitionFrames</span><span class="p">(</span><span class="n">mofaf</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-6-UHl0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-6-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 采集帧</span>
<span class="c1"># 采集帧指定在图像采集过程中使用的参数。一个设置对象最多可以支持10个。</span>
<span class="c1"># 每个采集框都有三个可修改的参数： 亮度、增益和曝光档。</span>
<span class="c1"># 创建默认的 AcquisitionFrame</span>
<span class="n">af</span> <span class="o">=</span> <span class="n">AcquisitionFrame</span><span class="p">()</span>

<span class="c1"># 用初始值创建 AcquisitionFrame</span>
<span class="n">brightness</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">gain</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="n">exposure_stop</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">af</span> <span class="o">=</span> <span class="n">AcquisitionFrame</span><span class="p">(</span><span class="n">brightness</span><span class="p">,</span> <span class="n">gain</span><span class="p">,</span> <span class="n">exposure_stop</span><span class="p">)</span>

<span class="c1"># 查看任何 AcquisitionFrame 参数的当前值和可接受范围。</span>
<span class="n">curr</span><span class="p">,</span> <span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">af</span><span class="o">.</span><span class="n">inquireSetting</span><span class="p">(</span><span class="n">ExposureStop</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Current exposure stop: &quot;</span><span class="p">,</span> <span class="n">curr</span><span class="p">,</span> <span class="s2">&quot;. Exposure stop can be configured to any value between &quot;</span><span class="p">,</span> <span class="nb">min</span><span class="p">,</span> <span class="s2">&quot; - &quot;</span><span class="p">,</span> <span class="nb">max</span><span class="p">)</span>

<span class="c1"># 将任何AcquisitionFrame参数配置为一个自定义值。</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">af</span><span class="o">.</span><span class="n">configureSetting</span><span class="p">(</span><span class="n">ExposureStop</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>

<span class="c1"># 浮点参数也可以用浮点值进行检索和修改。</span>
<span class="n">curr</span><span class="p">,</span> <span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">af</span><span class="o">.</span><span class="n">inquireSetting</span><span class="p">(</span><span class="n">Gain</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Current gain: &quot;</span><span class="p">,</span> <span class="n">curr</span><span class="p">,</span> <span class="s2">&quot;. Gain can be configured to any value between &quot;</span><span class="p">,</span> <span class="nb">min</span><span class="p">,</span> <span class="s2">&quot; - &quot;</span><span class="p">,</span> <span class="nb">max</span><span class="p">)</span>

<span class="n">err</span> <span class="o">=</span> <span class="n">af</span><span class="o">.</span><span class="n">configureSetting</span><span class="p">(</span><span class="n">Gain</span><span class="p">,</span> <span class="mf">2.1</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>

<span class="c1"># 使用不正确的类型来配置或查询一个参数会成功，但会返回一个警告。</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">af</span><span class="o">.</span><span class="n">configureSetting</span><span class="p">(</span><span class="n">ExposureStop</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">)</span> <span class="c1"># ExposureStop does not support decimal values, and will configure to 1.0</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="nb">print</span><span class="p">(</span><span class="n">err</span><span class="o">.</span><span class="n">details</span><span class="p">())</span> <span class="c1"># No error is returned, but details will include a warning.</span>

<span class="c1"># 在设置中添加采集帧。</span>
<span class="n">idx</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">addAcquisitionFrame</span><span class="p">(</span><span class="n">af</span><span class="p">)</span> <span class="c1"># Returns the index of the newly added acquisition frame.</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>

<span class="c1"># 获取采集帧。</span>
<span class="n">returned_af</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">getAcquisitionFrame</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># Get frame at index 1</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>

<span class="c1"># 删除索引值的采集帧。</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">deleteAcquisitionFrame</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>

<span class="c1"># 修改并替换索引1处的采集帧。</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">af</span><span class="o">.</span><span class="n">configureSetting</span><span class="p">(</span><span class="n">Brightness</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">modifyAcquisitionFrame</span><span class="p">(</span><span class="n">af</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>

<span class="c1"># 获取当前保存在设置中的整个采集帧字典的副本。</span>
<span class="n">mofaf</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">getAcquisitionFrames</span><span class="p">()</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>

<span class="c1"># 将采集帧的地图设置为设置。请记住，采集帧的字典是单索引的。</span>
<span class="n">mofaf</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">AcquisitionFrame</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">mofaf</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">AcquisitionFrame</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">setAcquisitionFrames</span><span class="p">(</span><span class="n">mofaf</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
</pre></div>
</div>
</div></div>
</section>
<section id="id10">
<h3><a class="toc-backref" href="#id26" role="doc-backlink">采集助手</a><a class="headerlink" href="#id10" title="此标题的永久链接"></a></h3>
<p>通过分析给定时间段的场景，自动计算采集帧设置。</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-7-Qysr" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-7-Qysr" name="Qysr" role="tab" tabindex="0">C++</button><button aria-controls="panel-7-QyM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-7-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button><button aria-controls="panel-7-UHl0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-7-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-7-Qysr" class="sphinx-tabs-panel group-tab" id="panel-7-Qysr" name="Qysr" role="tabpanel" tabindex="0"><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// 采集助手</span>
<span class="c1">// 分析场景并生成采集帧设置，所有采集帧的总时间将小于时间预算。</span>
<span class="c1">// 时间预算越高，生成的采集帧就越多。</span>
<span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">DaoAI</span><span class="o">::</span><span class="n">AcquisitionFrame</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ca_mofaf</span><span class="p">;</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">captureAssistant</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="n">ca_mofaf</span><span class="p">);</span><span class="w">  </span><span class="c1">// Generate a map of acquisition frames with time budget of 1 sec.</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">setAcquisitionFrames</span><span class="p">(</span><span class="n">ca_mofaf</span><span class="p">);</span><span class="w">  </span><span class="c1">// Set the generated acquisition frames to camera settings</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">setSettings</span><span class="p">(</span><span class="n">new_settings</span><span class="p">);</span><span class="w">  </span><span class="c1">// Apply the camera settings to camera</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">DaoAI</span><span class="o">::</span><span class="n">Frame</span><span class="w"> </span><span class="n">ca_frm</span><span class="p">;</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">capture</span><span class="p">(</span><span class="n">ca_frm</span><span class="p">);</span><span class="w">  </span><span class="c1">// Capture point cloud</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-7-QyM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-7-QyM=" name="QyM=" role="tabpanel" tabindex="0"><div class="highlight-c# notranslate"><div class="highlight"><pre><span></span><span class="c1">// 采集助手</span>
<span class="c1">// 分析场景并生成采集帧设置，所有采集帧的总时间将小于时间预算。</span>
<span class="c1">// 时间预算越高，生成的采集帧就越多。</span>
<span class="n">Dictionary</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">AcquisitionFrame</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ca_mofaf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Dictionary</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">AcquisitionFrame</span><span class="o">&gt;</span><span class="p">();</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">captureAssistant</span><span class="p">(</span><span class="m">1.0</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">ca_mofaf</span><span class="p">);</span><span class="w">  </span><span class="c1">// Generate a map of acquisition frames with time budget of 1 sec.</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">setAcquisitionFrames</span><span class="p">(</span><span class="n">ca_mofaf</span><span class="p">);</span><span class="w">  </span><span class="c1">// Set the generated acquisition frames to camera settings</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">setSettings</span><span class="p">(</span><span class="n">new_settings</span><span class="p">);</span><span class="w">  </span><span class="c1">// Apply the camera settings to camera</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">Frame</span><span class="w"> </span><span class="n">ca_frm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Frame</span><span class="p">();</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">capture</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">ca_frm</span><span class="p">);</span><span class="w">  </span><span class="c1">// Capture point cloud</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-7-UHl0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-7-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 采集助手</span>
<span class="c1"># 分析场景并生成采集帧设置，所有采集帧的总时间将小于时间预算。</span>
<span class="c1"># 时间预算越高，生成的采集帧就越多。</span>
<span class="n">ca_mofaf</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">captureAssistant</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span> <span class="c1"># Generate a set of acquisition frames with time budget of 1 sec.</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">setAcquisitionFrames</span><span class="p">(</span><span class="n">ca_mofaf</span><span class="p">)</span>  <span class="c1"># Set the generated acquisition frames to camera settings</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">setSettings</span><span class="p">(</span><span class="n">new_settings</span><span class="p">)</span>  <span class="c1"># Apply the camera settings to camera</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="n">ca_frame</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">capture</span><span class="p">()</span>  <span class="c1"># Capture point cloud using generated settings</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
</pre></div>
</div>
</div></div>
</section>
<section id="id11">
<h3><a class="toc-backref" href="#id27" role="doc-backlink">过滤器设置</a><a class="headerlink" href="#id11" title="此标题的永久链接"></a></h3>
<p>创建、读取和修改过滤器设置。</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-8-Qysr" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-8-Qysr" name="Qysr" role="tab" tabindex="0">C++</button><button aria-controls="panel-8-QyM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-8-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button><button aria-controls="panel-8-UHl0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-8-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-8-Qysr" class="sphinx-tabs-panel group-tab" id="panel-8-Qysr" name="Qysr" role="tabpanel" tabindex="0"><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// 滤镜设置</span>
<span class="c1">// 滤镜设置指定在三维重建过程中使用的参数。关于过滤器设置的完整列表</span>
<span class="c1">// 和它们的描述，请查阅settings.h和文档。</span>
<span class="c1">// 启用或禁用过滤器设置。</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">enableFilterSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">OutlierThreshold</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span><span class="w"> </span><span class="c1">// Enable outlier filter</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">enableFilterSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">GaussianFilter</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span><span class="w"> </span><span class="c1">// Disable gaussian filter</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">enableFilterSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">FillGaps</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span><span class="w"> </span><span class="c1">// Enable Fill Gaps</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 检查是否启用了过滤器设置。</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">checkEnableFilterSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">OutlierThreshold</span><span class="p">,</span><span class="w"> </span><span class="n">is_enabled</span><span class="p">);</span><span class="w"> </span><span class="c1">// Check if outlier filter is enabled.</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_enabled</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Outlier filter is enabled!&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">checkEnableFilterSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">GaussianFilter</span><span class="p">,</span><span class="w"> </span><span class="n">is_enabled</span><span class="p">);</span><span class="w"> </span><span class="c1">// Check if gaussian filter is enabled.</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_enabled</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Gaussian filter is enabled!&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">checkEnableFilterSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">FillGaps</span><span class="p">,</span><span class="w"> </span><span class="n">is_enabled</span><span class="p">);</span><span class="w"> </span><span class="c1">// Enable Fill Gaps</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_enabled</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Fill gaps is enabled!&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>

<span class="c1">// 获取一个过滤器设置的当前值和有效范围。</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">inquireFilterSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">OutlierThreshold</span><span class="p">,</span><span class="w"> </span><span class="n">dcurr</span><span class="p">,</span><span class="w"> </span><span class="n">dmin</span><span class="p">,</span><span class="w"> </span><span class="n">dmax</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Outlier threshold filter has a current value of &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">dcurr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;, with a valid range of &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">dmin</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; - &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">dmax</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">inquireFilterSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">OutlierThreshold</span><span class="p">,</span><span class="w"> </span><span class="n">dcurr</span><span class="p">);</span><span class="w"> </span><span class="c1">// Can also get current value without checking range.</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">inquireFilterSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">GaussianFilter</span><span class="p">,</span><span class="w"> </span><span class="n">icurr</span><span class="p">,</span><span class="w"> </span><span class="n">imin</span><span class="p">,</span><span class="w"> </span><span class="n">imax</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Gaussian filter has a current value of &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">icurr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;, with a valid range of &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">imin</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; - &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">imax</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">inquireFilterSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">GaussianFilter</span><span class="p">,</span><span class="w"> </span><span class="n">icurr</span><span class="p">);</span><span class="w"> </span><span class="c1">// Can also get current value without checking range.</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">inquireFilterSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">FillGaps</span><span class="p">,</span><span class="w"> </span><span class="n">bcurr</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 配置一个过滤器设置。</span>
<span class="n">inewval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="n">dnewval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.4</span><span class="p">;</span>
<span class="n">bnewval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">configureFilterSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">OutlierThreshold</span><span class="p">,</span><span class="w"> </span><span class="n">dnewval</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">configureFilterSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">GaussianFilter</span><span class="p">,</span><span class="w"> </span><span class="n">inewval</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">configureFilterSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">FillXFirst</span><span class="p">,</span><span class="w"> </span><span class="n">bnewval</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 对于数字过滤器的设置，使用类型不匹配的getter或setter会成功，但会发出警告。</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">inquireFilterSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">OutlierThreshold</span><span class="p">,</span><span class="w"> </span><span class="n">icurr</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Expect no error (status = DaoAI::SlcSdkSuccess)</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ret</span><span class="p">.</span><span class="n">details</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="c1">// Print warning message for using int value to retrieve a double parameter.</span>
<span class="n">dnewval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.5</span><span class="p">;</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">inquireFilterSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">GaussianFilter</span><span class="p">,</span><span class="w"> </span><span class="n">dnewval</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Expect no error (status = DaoAI::SlcSdkSuccess)</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ret</span><span class="p">.</span><span class="n">details</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="c1">// Print warning message for using double value to set an integer parameter.</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-8-QyM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-8-QyM=" name="QyM=" role="tabpanel" tabindex="0"><div class="highlight-c# notranslate"><div class="highlight"><pre><span></span><span class="c1">// 滤镜设置</span>
<span class="c1">// 滤镜设置指定在三维重建过程中使用的参数。关于过滤器设置的完整列表</span>
<span class="c1">// 和它们的描述，请查阅settings.h和文档。</span>
<span class="c1">// 启用或禁用过滤器设置。</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">enableFilterSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">FilterSetting</span><span class="p">.</span><span class="n">OutlierThreshold</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">);</span><span class="w"> </span><span class="c1">// Enable outlier filter</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">enableFilterSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">FilterSetting</span><span class="p">.</span><span class="n">GaussianFilter</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">);</span><span class="w"> </span><span class="c1">// Disable gaussian filter</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">enableFilterSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">FilterSetting</span><span class="p">.</span><span class="n">FillGaps</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">);</span><span class="w"> </span><span class="c1">// Enable Fill Gaps</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 检查是否启用了过滤器设置。</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">checkEnableFilterSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">FilterSetting</span><span class="p">.</span><span class="n">OutlierThreshold</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">is_enabled</span><span class="p">);</span><span class="w"> </span><span class="c1">// Check if outlier filter is enabled.</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_enabled</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Outlier filter is enabled!&quot;</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">checkEnableFilterSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">FilterSetting</span><span class="p">.</span><span class="n">GaussianFilter</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">is_enabled</span><span class="p">);</span><span class="w"> </span><span class="c1">// Check if gaussian filter is enabled.</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_enabled</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Gaussian filter is enabled!&quot;</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="p">}</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">checkEnableFilterSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">FilterSetting</span><span class="p">.</span><span class="n">FillGaps</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">is_enabled</span><span class="p">);</span><span class="w"> </span><span class="c1">// Enable Fill Gaps</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_enabled</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Fill gaps is enabled!&quot;</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>

<span class="c1">// 获取一个过滤器设置的当前值和有效范围。</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">inquireFilterSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">FilterSetting</span><span class="p">.</span><span class="n">OutlierThreshold</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">dcurr</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">dmin</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">dmax</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Outlier threshold filter has a current value of &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dcurr</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, with a valid range of &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dmin</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; - &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dmax</span><span class="p">);</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">inquireFilterSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">FilterSetting</span><span class="p">.</span><span class="n">OutlierThreshold</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">dcurr</span><span class="p">);</span><span class="w"> </span><span class="c1">// Can also get current value without checking range.</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">inquireFilterSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">FilterSetting</span><span class="p">.</span><span class="n">GaussianFilter</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">icurr</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">imin</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">imax</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Gaussian filter has a current value of &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">icurr</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, with a valid range of &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">imin</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; - &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">imax</span><span class="p">);</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">inquireFilterSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">FilterSetting</span><span class="p">.</span><span class="n">GaussianFilter</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">icurr</span><span class="p">);</span><span class="w"> </span><span class="c1">// Can also get current value without checking range.</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">inquireFilterSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">FilterSetting</span><span class="p">.</span><span class="n">FillGaps</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">bcurr</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 配置一个过滤器设置。</span>
<span class="n">inewval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">;</span>
<span class="n">dnewval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3.4</span><span class="p">;</span>
<span class="n">bnewval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">configureFilterSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">FilterSetting</span><span class="p">.</span><span class="n">OutlierThreshold</span><span class="p">,</span><span class="w"> </span><span class="n">dnewval</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">configureFilterSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">FilterSetting</span><span class="p">.</span><span class="n">GaussianFilter</span><span class="p">,</span><span class="w"> </span><span class="n">inewval</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">configureFilterSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">FilterSetting</span><span class="p">.</span><span class="n">FillXFirst</span><span class="p">,</span><span class="w"> </span><span class="n">bnewval</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 对于数字过滤器的设置，使用类型不匹配的getter或setter会成功，但会发出警告。</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">inquireFilterSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">FilterSetting</span><span class="p">.</span><span class="n">OutlierThreshold</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">icurr</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Expect no error (status = SlcSdkSuccess)</span>
<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">err</span><span class="p">.</span><span class="n">details</span><span class="p">());</span><span class="w"> </span><span class="c1">// Print warning message for using int value to retrieve a double parameter.</span>
<span class="n">dnewval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1.5</span><span class="p">;</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">configureFilterSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">FilterSetting</span><span class="p">.</span><span class="n">GaussianFilter</span><span class="p">,</span><span class="w"> </span><span class="n">dnewval</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Expect no error (status = SlcSdkSuccess)</span>
<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">err</span><span class="p">.</span><span class="n">details</span><span class="p">());</span><span class="w"> </span><span class="c1">// Print warning message for using double value to set an integer parameter.</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-8-UHl0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-8-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 滤镜设置</span>
<span class="c1"># 滤镜设置指定在三维重建过程中使用的参数。关于过滤器设置的完整列表</span>
<span class="c1"># 和它们的描述，请查阅settings.h和文档。</span>
<span class="c1"># 启用或禁用过滤器设置。</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">enableFilterSetting</span><span class="p">(</span><span class="n">OutlierThreshold</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span> <span class="c1"># Enable outlier filter</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">enableFilterSetting</span><span class="p">(</span><span class="n">GaussianFilter</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span> <span class="c1"># Disable gaussian filter</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">enableFilterSetting</span><span class="p">(</span><span class="n">FillGaps</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span> <span class="c1"># Enable Fill Gaps</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>

<span class="c1"># 检查是否启用了过滤器设置。</span>
<span class="n">is_enabled</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">checkEnableFilterSetting</span><span class="p">(</span><span class="n">OutlierThreshold</span><span class="p">)</span> <span class="c1"># Check if outlier filter is enabled.</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="k">if</span> <span class="n">is_enabled</span> <span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Outlier filter is enabled!&quot;</span><span class="p">)</span>
<span class="n">is_enabled</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">checkEnableFilterSetting</span><span class="p">(</span><span class="n">GaussianFilter</span><span class="p">)</span> <span class="c1"># Check if gaussian filter is enabled.</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="k">if</span> <span class="n">is_enabled</span> <span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Gaussian filter is enabled!&quot;</span><span class="p">)</span>
<span class="n">is_enabled</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">checkEnableFilterSetting</span><span class="p">(</span><span class="n">FillGaps</span><span class="p">)</span> <span class="c1"># Enable Fill Gaps</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="k">if</span> <span class="n">is_enabled</span> <span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fill gaps is enabled!&quot;</span><span class="p">)</span>

<span class="c1"># 获取一个过滤器设置的当前值和有效范围。</span>
<span class="n">curr</span><span class="p">,</span> <span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">inquireFilterSetting</span><span class="p">(</span><span class="n">OutlierThreshold</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Outlier threshold filter has a current value of &quot;</span><span class="p">,</span> <span class="n">curr</span><span class="p">,</span> <span class="s2">&quot;, with a valid range of &quot;</span><span class="p">,</span> <span class="nb">min</span><span class="p">,</span> <span class="s2">&quot; - &quot;</span><span class="p">,</span> <span class="nb">max</span><span class="p">)</span>
<span class="n">curr</span><span class="p">,</span> <span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">inquireFilterSetting</span><span class="p">(</span><span class="n">GaussianFilter</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Gaussian filter has a current value of &quot;</span><span class="p">,</span> <span class="n">curr</span><span class="p">,</span> <span class="s2">&quot;, with a valid range of &quot;</span><span class="p">,</span> <span class="nb">min</span><span class="p">,</span> <span class="s2">&quot; - &quot;</span><span class="p">,</span> <span class="nb">max</span><span class="p">)</span>
<span class="n">fillgaps</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">inquireFilterSetting</span><span class="p">(</span><span class="n">FillGaps</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="k">if</span><span class="p">(</span><span class="n">fillgaps</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fill Gaps is turned on!&quot;</span><span class="p">)</span>

<span class="c1"># 配置一个过滤器设置。</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">configureFilterSetting</span><span class="p">(</span><span class="n">OutlierThreshold</span><span class="p">,</span> <span class="mf">3.4</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">configureFilterSetting</span><span class="p">(</span><span class="n">GaussianFilter</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">configureFilterSetting</span><span class="p">(</span><span class="n">FillXFirst</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>

<span class="c1"># 对于数字过滤器的设置，使用类型不匹配的getter或setter会成功，但会发出警告。</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">configureFilterSetting</span><span class="p">(</span><span class="n">GaussianFilter</span><span class="p">,</span> <span class="mf">1.6</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span> <span class="c1"># Expect no error (status = SlcSdkSuccess)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">err</span><span class="o">.</span><span class="n">details</span><span class="p">())</span> <span class="c1"># Print warning message for using double value to set an integer parameter.</span>
</pre></div>
</div>
</div></div>
</section>
<section id="id12">
<h3><a class="toc-backref" href="#id28" role="doc-backlink">系统设置</a><a class="headerlink" href="#id12" title="此标题的永久链接"></a></h3>
<p>创建、读取和导出系统设置。</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-9-Qysr" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-9-Qysr" name="Qysr" role="tab" tabindex="0">C++</button><button aria-controls="panel-9-QyM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-9-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button><button aria-controls="panel-9-UHl0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-9-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-9-Qysr" class="sphinx-tabs-panel group-tab" id="panel-9-Qysr" name="Qysr" role="tabpanel" tabindex="0"><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// 系统设置</span>
<span class="c1">// 系统设置是描述和影响DaoAI系统的各种参数。关于系统设置的完整列表，</span>
<span class="c1">// 请参考settings.h和文档中的描述。</span>
<span class="c1">// 注意：这些系统设置中有许多是只读的，对于当前的摄像机系统来说可能并不准确。</span>
<span class="c1">// 除非直接从摄像机中获取更新的设置对象[DaoAI::Camera.getSettings()]。</span>
<span class="c1">// 启用或停用系统设置</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">configureSystemSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">ExtraWhitePatternEnable</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">configureSystemSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">TemperatureRegulationEnable</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 检查一个系统设置是否被启用。</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">checkEnableSystemSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">ExtraWhitePatternEnable</span><span class="p">,</span><span class="w"> </span><span class="n">is_enabled</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_enabled</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Extra white pattern is enabled!&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">checkEnableSystemSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">TemperatureRegulationEnable</span><span class="p">,</span><span class="w"> </span><span class="n">is_enabled</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_enabled</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Temperature regulation is enabled!&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>

<span class="c1">// 获取一个系统设置的当前值。</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">inquireSystemSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">GPUAvailable</span><span class="p">,</span><span class="w"> </span><span class="n">bcurr</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bcurr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;GPU is Available on your system!&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">inquireSystemSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">CameraModel</span><span class="p">,</span><span class="w"> </span><span class="n">scurr</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;This camera has model &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">scurr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

<span class="c1">// 保存和导出设置。</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">save_settings_path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;../../Examples/example_setting_save.cfg&quot;</span><span class="p">;</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">exportSettings</span><span class="p">(</span><span class="n">save_settings_path</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-9-QyM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-9-QyM=" name="QyM=" role="tabpanel" tabindex="0"><div class="highlight-c# notranslate"><div class="highlight"><pre><span></span><span class="c1">// 系统设置</span>
<span class="c1">// 系统设置是描述和影响DaoAI系统的各种参数。关于系统设置的完整列表，</span>
<span class="c1">// 请参考settings.h和文档中的描述。</span>
<span class="c1">// 注意：这些系统设置中有许多是只读的，对于当前的摄像机系统来说可能并不准确。</span>
<span class="c1">// 除非直接从摄像机中获取更新的设置对象[DaoAI::Camera.getSettings()]。</span>
<span class="c1">// 启用或停用系统设置</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">configureSystemSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">SystemSetting</span><span class="p">.</span><span class="n">ExtraWhitePatternEnable</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 检查一个系统设置是否被启用。</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">checkEnableSystemSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">SystemSetting</span><span class="p">.</span><span class="n">ExtraWhitePatternEnable</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">is_enabled</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_enabled</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Extra white pattern is enabled!&quot;</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">checkEnableSystemSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">SystemSetting</span><span class="p">.</span><span class="n">TemperatureRegulationEnable</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">is_enabled</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_enabled</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Temperature regulation is enabled!&quot;</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>

<span class="c1">// 获取一个系统设置的当前值。</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">inquireSystemSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">SystemSetting</span><span class="p">.</span><span class="n">GPUAvailable</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">bcurr</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bcurr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;GPU is Available on your system!&quot;</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">inquireSystemSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">SystemSetting</span><span class="p">.</span><span class="n">CameraModel</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">scurr</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;This camera has model &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">scurr</span><span class="p">);</span>

<span class="c1">// 保存和导出设置。</span>
<span class="kt">string</span><span class="w"> </span><span class="n">save_settings_path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;../../../../../Examples/example_setting_save.cfg&quot;</span><span class="p">;</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">exportSettings</span><span class="p">(</span><span class="n">save_settings_path</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-9-UHl0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-9-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 系统设置</span>
<span class="c1"># 系统设置是描述和影响DaoAI系统的各种参数。关于系统设置的完整列表，</span>
<span class="c1"># 请参考settings.h和文档中的描述。</span>
<span class="c1"># 注意：这些系统设置中有许多是只读的，对于当前的摄像机系统来说可能并不准确。</span>
<span class="c1"># 除非直接从摄像机中获取更新的设置对象[DaoAI::Camera.getSettings()]。</span>
<span class="c1"># 启用或停用系统设置</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">configureSystemSetting</span><span class="p">(</span><span class="n">ExtraWhitePatternEnable</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span> <span class="c1"># Expect no error (status = SlcSdkSuccess)</span>


<span class="c1"># 检查一个系统设置是否被启用。</span>
<span class="n">is_enabled</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">checkEnableSystemSetting</span><span class="p">(</span><span class="n">ExtraWhitePatternEnable</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="k">if</span> <span class="p">(</span><span class="n">is_enabled</span><span class="p">)</span> <span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Extra white pattern is enabled!&quot;</span><span class="p">)</span>
<span class="n">is_enabled</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">checkEnableSystemSetting</span><span class="p">(</span><span class="n">TemperatureRegulationEnable</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="k">if</span> <span class="p">(</span><span class="n">is_enabled</span><span class="p">)</span> <span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Temperature regulation is enabled!&quot;</span><span class="p">)</span>

<span class="c1"># 获取一个系统设置的当前值。</span>
<span class="n">available</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">inquireSystemSetting</span><span class="p">(</span><span class="n">GPUAvailable</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="k">if</span> <span class="p">(</span><span class="n">available</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;GPU is Available on your system!&quot;</span><span class="p">)</span>
<span class="n">model</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">inquireSystemSetting</span><span class="p">(</span><span class="n">CameraModel</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;This camera has model &quot;</span> <span class="o">+</span> <span class="n">model</span><span class="p">)</span>

<span class="c1"># 保存和导出设置。</span>
<span class="n">save_settings_path</span> <span class="o">=</span> <span class="s2">&quot;../../Examples/example_setting_save.cfg&quot;</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">exportSettings</span><span class="p">(</span><span class="n">save_settings_path</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
</pre></div>
</div>
</div></div>
</section>
</section>
<section id="id13">
<h2><a class="toc-backref" href="#id29" role="doc-backlink">采集</a><a class="headerlink" href="#id13" title="此标题的永久链接"></a></h2>
<p>采集图像.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-10-Qysr" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-10-Qysr" name="Qysr" role="tab" tabindex="0">C++</button><button aria-controls="panel-10-QyM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-10-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button><button aria-controls="panel-10-UHl0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-10-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-10-Qysr" class="sphinx-tabs-panel group-tab" id="panel-10-Qysr" name="Qysr" role="tabpanel" tabindex="0"><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// 相机采集  ================================================================================================</span>
<span class="c1">// 声明一个DaoAI帧对象，采集的数据将被写入其中</span>
<span class="n">DaoAI</span><span class="o">::</span><span class="n">Frame</span><span class="w"> </span><span class="n">frm</span><span class="p">;</span>
<span class="c1">// 用默认设置进行拍摄（假设没有对相机进行设置）。</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">capture</span><span class="p">(</span><span class="n">frm</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 使用自定义设置进行采集</span>
<span class="c1">// 方案1：使用设置进行拍摄。相机保存的设置用于今后的采集。</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">capture</span><span class="p">(</span><span class="n">new_settings</span><span class="p">,</span><span class="w"> </span><span class="n">frm</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="c1">// 方案2：将设置对象设定为相机，以便在采集时使用。</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">setSettings</span><span class="p">(</span><span class="n">new_settings</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">capture</span><span class="p">(</span><span class="n">frm</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="c1">// 方案3：将设置从文件加载到相机，以便在采集中使用。</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">setSettings</span><span class="p">(</span><span class="s">&quot;../../Examples/sample_settings.cfg&quot;</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">capture</span><span class="p">(</span><span class="n">frm</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 使用HDR图像作为拍摄画面的颜色</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">enableFilterSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">ShowHDR</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">setSettings</span><span class="p">(</span><span class="n">new_settings</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">capture</span><span class="p">(</span><span class="n">frm</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="c1">// 使用第一个采集帧的图像作为采集帧的颜色</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">enableFilterSetting</span><span class="p">(</span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Settings</span><span class="o">::</span><span class="n">ShowHDR</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">setSettings</span><span class="p">(</span><span class="n">new_settings</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">capture</span><span class="p">(</span><span class="n">frm</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>

<span class="c1">// 启用使用本地GPU进行计算（仅适用于BP-AMR和USB接口的3D相机）。</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">enableGPU</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">capture</span><span class="p">(</span><span class="n">frm</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="c1">// 禁止使用本地GPU进行计算，使用CPU代替（仅适用于BP-AMR和USB接口的3D相机）。</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">enableGPU</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">capture</span><span class="p">(</span><span class="n">frm</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>

<span class="c1">// 启用温度调节功能</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">enableTempRegulation</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="c1">// 禁用温度调节功能</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">enableTempRegulation</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-10-QyM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-10-QyM=" name="QyM=" role="tabpanel" tabindex="0"><div class="highlight-c# notranslate"><div class="highlight"><pre><span></span><span class="c1">// 相机采集  ================================================================================================</span>
<span class="c1">// 声明一个DaoAI帧对象，采集的数据将被写入其中</span>
<span class="n">Frame</span><span class="w"> </span><span class="n">frm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Frame</span><span class="p">();</span>
<span class="c1">// 用默认设置进行拍摄（假设没有对相机进行设置）。</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">capture</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">frm</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 使用自定义设置进行采集</span>
<span class="c1">// 方案1：使用设置进行拍摄。相机保存的设置用于今后的采集。</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">capture</span><span class="p">(</span><span class="n">new_settings</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">frm</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="c1">// 方案2：将设置对象设定为相机，以便在采集时使用。</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">setSettings</span><span class="p">(</span><span class="n">new_settings</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">capture</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">frm</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="c1">// 方案3：将设置从文件加载到相机，以便在采集中使用。</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">setSettings</span><span class="p">(</span><span class="s">&quot;../../../../../Examples/sample_settings.cfg&quot;</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">capture</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">frm</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 使用HDR图像作为拍摄画面的颜色</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">enableFilterSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">FilterSetting</span><span class="p">.</span><span class="n">ShowHDR</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">setSettings</span><span class="p">(</span><span class="n">new_settings</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">capture</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">frm</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="c1">// 使用第一个采集帧的图像作为采集帧的颜色</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_settings</span><span class="p">.</span><span class="n">enableFilterSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">FilterSetting</span><span class="p">.</span><span class="n">ShowHDR</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">setSettings</span><span class="p">(</span><span class="n">new_settings</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">capture</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">frm</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="c1">// 检查本地GPU是否可用</span>
<span class="n">Settings</span><span class="w"> </span><span class="n">temp_settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">getSettings</span><span class="p">();</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">is_available</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp_settings</span><span class="p">.</span><span class="n">inquireSystemSetting</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="n">SystemSetting</span><span class="p">.</span><span class="n">GPUAvailable</span><span class="p">,</span><span class="w"> </span><span class="k">ref</span><span class="w"> </span><span class="n">is_available</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="c1">// 启用使用本地GPU进行计算（仅适用于BP-AMR和USB接口的3D相机）。</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_available</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">   </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">enableGPU</span><span class="p">(</span><span class="k">true</span><span class="p">);</span>
<span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">   </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">capture</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">frm</span><span class="p">);</span>
<span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
<span class="c1">// 禁止使用本地GPU进行计算，使用CPU代替（仅适用于BP-AMR和USB接口的3D相机）。</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_available</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">   </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">enableGPU</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>
<span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">   </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">capture</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">frm</span><span class="p">);</span>
<span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
<span class="c1">// 启用温度调节功能</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">enableTempRegulation</span><span class="p">(</span><span class="k">true</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="c1">// 禁用温度调节功能</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">enableTempRegulation</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-10-UHl0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-10-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 相机采集  ================================================================================================</span>
<span class="c1"># 声明一个DaoAI帧对象，采集的数据将被写入其中</span>
<span class="c1"># 用默认设置进行拍摄（假设没有对相机进行设置）。</span>
<span class="n">frame</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">capture</span><span class="p">()</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>

<span class="c1"># 使用自定义设置进行采集</span>
<span class="c1"># 方案1：使用设置进行拍摄。相机保存的设置用于今后的采集。</span>
<span class="n">frame</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">capture</span><span class="p">(</span><span class="n">new_settings</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="c1"># 方案2：将设置对象设定为相机，以便在采集时使用。</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">setSettings</span><span class="p">(</span><span class="n">new_settings</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="n">frame</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">capture</span><span class="p">()</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="c1"># 方案3：将设置从文件加载到相机，以便在采集中使用。</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">setSettings</span><span class="p">(</span><span class="s2">&quot;../../Examples/sample_settings.cfg&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="n">frame</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">capture</span><span class="p">()</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>

<span class="c1"># 使用HDR图像作为拍摄画面的颜色</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">enableFilterSetting</span><span class="p">(</span><span class="n">ShowHDR</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">setSettings</span><span class="p">(</span><span class="n">new_settings</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="n">frame</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">capture</span><span class="p">()</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="c1"># 使用第一个采集帧的图像作为采集帧的颜色</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_settings</span><span class="o">.</span><span class="n">enableFilterSetting</span><span class="p">(</span><span class="n">ShowHDR</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">setSettings</span><span class="p">(</span><span class="n">new_settings</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="n">frame</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">capture</span><span class="p">()</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="c1"># 检查本地GPU是否可用</span>
<span class="n">temp_settings</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">getSettings</span><span class="p">()</span>
<span class="n">is_available</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">temp_settings</span><span class="o">.</span><span class="n">inquireSystemSetting</span><span class="p">(</span><span class="n">GPUAvailable</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="c1"># 启用使用本地GPU进行计算（仅适用于BP-AMR和USB接口的3D相机）。</span>
<span class="k">if</span> <span class="p">(</span><span class="n">is_available</span><span class="p">):</span>
   <span class="n">err</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">enableGPU</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
   <span class="n">frame</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">capture</span><span class="p">()</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="c1"># 禁止使用本地GPU进行计算，使用CPU代替（仅适用于BP-AMR和USB接口的3D相机）。</span>
<span class="k">if</span> <span class="p">(</span><span class="n">is_available</span><span class="p">):</span>
   <span class="n">err</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">enableGPU</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
   <span class="n">frame</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">capture</span><span class="p">()</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="c1"># 启用温度调节功能</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">enableTempRegulation</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
<span class="c1"># 禁用温度调节功能</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">enableTempRegulation</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
</pre></div>
</div>
</div></div>
</section>
<section id="id14">
<h2><a class="toc-backref" href="#id30" role="doc-backlink">帧</a><a class="headerlink" href="#id14" title="此标题的永久链接"></a></h2>
<p>保存和加载图像。</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-11-Qysr" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-11-Qysr" name="Qysr" role="tab" tabindex="0">C++</button><button aria-controls="panel-11-QyM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-11-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button><button aria-controls="panel-11-UHl0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-11-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-11-Qysr" class="sphinx-tabs-panel group-tab" id="panel-11-Qysr" name="Qysr" role="tabpanel" tabindex="0"><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// 帧 =========================================================================================================</span>
<span class="n">DaoAI</span><span class="o">::</span><span class="n">Frame</span><span class="w"> </span><span class="n">new_frame</span><span class="p">;</span>
<span class="c1">// Create new empty frame</span>
<span class="n">new_frame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Frame</span><span class="p">();</span>
<span class="c1">// Copy constructor</span>
<span class="n">new_frame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DaoAI</span><span class="o">::</span><span class="n">Frame</span><span class="p">(</span><span class="n">frm</span><span class="p">);</span>

<span class="c1">// 检查帧是否有数据</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">new_frame</span><span class="p">.</span><span class="n">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Success: Frame contains data from 3D capture!&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>

<span class="c1">// 保存一个框架。文件扩展名.dcf是首选的DaoAI框架格式，但保存也支持.pcd和.ply格式。</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">save_frame_path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;../../Examples/example_frame_save.dcf&quot;</span><span class="p">;</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_frame</span><span class="p">.</span><span class="n">save</span><span class="p">(</span><span class="n">save_frame_path</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 从文件中加载一个框架。支持.dcf文件。</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_frame</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;../../Examples/sample_frame.dcf&quot;</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 获取点云数据。</span>
<span class="n">DaoAI</span><span class="o">::</span><span class="n">PointCloud</span><span class="w"> </span><span class="n">pcl</span><span class="p">;</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">frm</span><span class="p">.</span><span class="n">getPointCloud</span><span class="p">(</span><span class="n">pcl</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-11-QyM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-11-QyM=" name="QyM=" role="tabpanel" tabindex="0"><div class="highlight-c# notranslate"><div class="highlight"><pre><span></span><span class="c1">// 帧 =========================================================================================================</span>
<span class="n">Frame</span><span class="w"> </span><span class="n">new_frame</span><span class="p">;</span>
<span class="c1">// Create new empty frame</span>
<span class="n">new_frame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Frame</span><span class="p">();</span>
<span class="c1">// Copy constructor</span>
<span class="n">new_frame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Frame</span><span class="p">(</span><span class="n">frm</span><span class="p">);</span>

<span class="c1">// 检查帧是否有数据</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">new_frame</span><span class="p">.</span><span class="n">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Success: Frame contains data from 3D capture!&quot;</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>

<span class="c1">// 保存一个框架。文件扩展名.dcf是首选的DaoAI框架格式，但保存也支持.pcd和.ply格式。</span>
<span class="kt">string</span><span class="w"> </span><span class="n">save_frame_path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;../../../../../Examples/example_frame_save.dcf&quot;</span><span class="p">;</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_frame</span><span class="p">.</span><span class="n">save</span><span class="p">(</span><span class="n">save_frame_path</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 从文件中加载一个框架。支持.dcf文件。</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_frame</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;../../../../../Examples/sample_frame.dcf&quot;</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="c1">// 获取点云数据。</span>
<span class="n">PointCloud</span><span class="w"> </span><span class="n">pcl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PointCloud</span><span class="p">();</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">frm</span><span class="p">.</span><span class="n">getPointCloud</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">pcl</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-11-UHl0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-11-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Frames ======================================================================================</span>
<span class="c1"># Create new empty frame</span>
<span class="n">new_frame</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">()</span>
<span class="c1"># Copy constructor</span>
<span class="n">new_frame</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>

<span class="c1"># 检查帧是否有数据</span>
<span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">new_frame</span><span class="o">.</span><span class="n">isEmpty</span><span class="p">())</span> <span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Success: Frame contains data from 3D capture!&quot;</span><span class="p">)</span>

<span class="c1"># 保存一个框架。文件扩展名.dcf是首选的DaoAI框架格式，但保存也支持.pcd和.ply格式。</span>
<span class="n">save_frame_path</span> <span class="o">=</span> <span class="s2">&quot;../../Examples/example_frame_save.dcf&quot;</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_frame</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">save_frame_path</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>

<span class="c1"># 从文件中加载一个框架。支持.dcf文件。</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_frame</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;../../Examples/sample_frame.dcf&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>

<span class="c1"># 获取点云数据。</span>
<span class="n">pcl</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">getPointCloud</span><span class="p">()</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>
</pre></div>
</div>
</div></div>
</section>
<section id="id15">
<h2><a class="toc-backref" href="#id31" role="doc-backlink">点云</a><a class="headerlink" href="#id15" title="此标题的永久链接"></a></h2>
<p>创建、获取和读取点云数据。</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-12-Qysr" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-12-Qysr" name="Qysr" role="tab" tabindex="0">C++</button><button aria-controls="panel-12-QyM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-12-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button><button aria-controls="panel-12-UHl0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-12-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-12-Qysr" class="sphinx-tabs-panel group-tab" id="panel-12-Qysr" name="Qysr" role="tabpanel" tabindex="0"><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// 点云 ====================================================================================================</span>
<span class="c1">// 点云包含来自3D采集帧的坐标和颜色信息。</span>
<span class="n">DaoAI</span><span class="o">::</span><span class="n">PointCloud</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">;</span>
<span class="c1">// Create new point cloud.</span>
<span class="n">new_pcl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DaoAI</span><span class="o">::</span><span class="n">PointCloud</span><span class="p">();</span><span class="w"> </span><span class="c1">// Empty point cloud.</span>
<span class="n">new_pcl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DaoAI</span><span class="o">::</span><span class="n">PointCloud</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span><span class="w"> </span><span class="c1">// Specify dimensions of created point cloud.</span>
<span class="n">new_pcl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DaoAI</span><span class="o">::</span><span class="n">PointCloud</span><span class="p">(</span><span class="n">pcl</span><span class="p">);</span><span class="w"> </span><span class="c1">// Copy point cloud.</span>
<span class="c1">// Clone a point cloud.</span>
<span class="n">new_pcl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pcl</span><span class="p">.</span><span class="n">clone</span><span class="p">();</span>
<span class="c1">// 获取点云结构信息。</span>
<span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getSize</span><span class="p">();</span>
<span class="kt">int</span><span class="w"> </span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getHeight</span><span class="p">();</span><span class="w"> </span><span class="c1">// Number of rows.</span>
<span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getWidth</span><span class="p">();</span><span class="w"> </span><span class="c1">// Number of columns.</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">new_pcl</span><span class="p">.</span><span class="n">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Point cloud contains capture data!&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="c1">// 获取点云数据信息。</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x_values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getVecX</span><span class="p">();</span><span class="w"> </span><span class="c1">// 2D vector of all the x-coordinates in the point cloud.</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="w"> </span><span class="n">y_values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getVecX</span><span class="p">();</span><span class="w"> </span><span class="c1">// 2D vector of all the y-coordinates in the point cloud.</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="w"> </span><span class="n">z_values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getVecX</span><span class="p">();</span><span class="w"> </span><span class="c1">// 2D vector of all the z-coordinates in the point cloud.</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="w"> </span><span class="n">confident_values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getVecConfident</span><span class="p">();</span><span class="w"> </span><span class="c1">// 2D vector of point cloud confidence values.</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">uint32_t</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rgba_values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getVecRgba</span><span class="p">();</span><span class="w"> </span><span class="c1">// 2D vector of all the RGBA values in the point cloud. 0xAARRGGBB format.</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;</span><span class="w"> </span><span class="n">r_values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getVecR</span><span class="p">();</span><span class="w"> </span><span class="c1">// 2D vector of all the r-values in the point cloud.</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;</span><span class="w"> </span><span class="n">g_values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getVecG</span><span class="p">();</span><span class="w"> </span><span class="c1">// 2D vector of all the g-values in the point cloud.</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;</span><span class="w"> </span><span class="n">b_values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getVecB</span><span class="p">();</span><span class="w"> </span><span class="c1">// 2D vector of all the b-values in the point cloud.</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a_values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getVecA</span><span class="p">();</span><span class="w"> </span><span class="c1">// 2D vector of all the a-values in the point cloud.</span>
<span class="c1">// Get individual point from point cloud.</span>
<span class="n">DaoAI</span><span class="o">::</span><span class="n">Point</span><span class="w"> </span><span class="n">pt</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="n">idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rand</span><span class="p">()</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">size</span><span class="p">;</span>
<span class="n">pt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">(</span><span class="n">idx</span><span class="p">);</span><span class="w"> </span><span class="c1">// Get any point using a 1D index between [0, size).</span>
<span class="kt">int</span><span class="w"> </span><span class="n">row</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rand</span><span class="p">()</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">height</span><span class="p">;</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rand</span><span class="p">()</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">width</span><span class="p">;</span>
<span class="n">pt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="p">);</span><span class="w"> </span><span class="c1">// Get any point using a 2D index pair (row, column).</span>
<span class="c1">// Get pointer to first point in the point cloud.</span>
<span class="n">DaoAI</span><span class="o">::</span><span class="n">Point</span><span class="o">*</span><span class="w"> </span><span class="n">first_pt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getDataPtr</span><span class="p">();</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-12-QyM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-12-QyM=" name="QyM=" role="tabpanel" tabindex="0"><div class="highlight-c# notranslate"><div class="highlight"><pre><span></span><span class="c1">// 点云 ====================================================================================================</span>
<span class="c1">// 点云包含来自3D采集帧的坐标和颜色信息。</span>
<span class="n">PointCloud</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">;</span>
<span class="c1">// Create new point cloud.</span>
<span class="n">new_pcl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PointCloud</span><span class="p">();</span><span class="w"> </span><span class="c1">// Empty point cloud.</span>
<span class="n">new_pcl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PointCloud</span><span class="p">(</span><span class="m">100</span><span class="p">,</span><span class="w"> </span><span class="m">100</span><span class="p">);</span><span class="w"> </span><span class="c1">// Specify dimensions of created point cloud.</span>

<span class="c1">// Clone a point cloud.</span>
<span class="n">new_pcl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pcl</span><span class="p">.</span><span class="n">clone</span><span class="p">();</span>

<span class="c1">// 获取点云结构信息。</span>
<span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getSize</span><span class="p">();</span>
<span class="kt">int</span><span class="w"> </span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getHeight</span><span class="p">();</span><span class="w"> </span><span class="c1">// Number of rows.</span>
<span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getWidth</span><span class="p">();</span><span class="w"> </span><span class="c1">// Number of columns.</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">new_pcl</span><span class="p">.</span><span class="n">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Point cloud contains capture data!&quot;</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>
<span class="c1">// 获取点云数据信息。</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x_values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getVecX</span><span class="p">();</span><span class="w"> </span><span class="c1">// 2D vector of all the x-coordinates in the point cloud.</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="w"> </span><span class="n">y_values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getVecX</span><span class="p">();</span><span class="w"> </span><span class="c1">// 2D vector of all the y-coordinates in the point cloud.</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="w"> </span><span class="n">z_values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getVecX</span><span class="p">();</span><span class="w"> </span><span class="c1">// 2D vector of all the z-coordinates in the point cloud.</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="w"> </span><span class="n">confident_values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getVecConfident</span><span class="p">();</span><span class="w"> </span><span class="c1">// 2D vector of point cloud confidence values.</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">uint</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rgba_values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getVecRgba</span><span class="p">();</span><span class="w"> </span><span class="c1">// 2D vector of all the RGBA values in the point cloud. 0xAARRGGBB format.</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">byte</span><span class="o">&gt;</span><span class="w"> </span><span class="n">r_values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getVecR</span><span class="p">();</span><span class="w"> </span><span class="c1">// 2D vector of all the r-values in the point cloud.</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">byte</span><span class="o">&gt;</span><span class="w"> </span><span class="n">g_values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getVecG</span><span class="p">();</span><span class="w"> </span><span class="c1">// 2D vector of all the g-values in the point cloud.</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">byte</span><span class="o">&gt;</span><span class="w"> </span><span class="n">b_values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getVecB</span><span class="p">();</span><span class="w"> </span><span class="c1">// 2D vector of all the b-values in the point cloud.</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">byte</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a_values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getVecA</span><span class="p">();</span><span class="w"> </span><span class="c1">// 2D vector of all the a-values in the point cloud.</span>
<span class="w">                                                   </span><span class="c1">// Get individual point from point cloud.</span>
<span class="n">Random</span><span class="w"> </span><span class="n">rnd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Random</span><span class="p">();</span>
<span class="kt">int</span><span class="w"> </span><span class="n">idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rnd</span><span class="p">.</span><span class="n">Next</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">);</span>

<span class="n">Point</span><span class="w"> </span><span class="n">pt</span><span class="p">;</span>
<span class="n">pt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getPoint</span><span class="p">((</span><span class="kt">uint</span><span class="p">)</span><span class="w"> </span><span class="n">idx</span><span class="p">);</span><span class="w"> </span><span class="c1">// Get any point using a 1D index between [0, size).</span>
<span class="kt">int</span><span class="w"> </span><span class="n">row</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rnd</span><span class="p">.</span><span class="n">Next</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">height</span><span class="p">);</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rnd</span><span class="p">.</span><span class="n">Next</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="p">);</span>
<span class="n">pt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_pcl</span><span class="p">.</span><span class="n">getPoint</span><span class="p">((</span><span class="kt">uint</span><span class="p">)</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">uint</span><span class="p">)</span><span class="w"> </span><span class="n">col</span><span class="p">);</span><span class="w"> </span><span class="c1">// Get any point using a 2D index pair (row, column).</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-12-UHl0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-12-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 点云 ====================================================================================================</span>
<span class="c1"># 点云包含来自3D采集帧的坐标和颜色信息。</span>
<span class="c1"># Create new point cloud.</span>
<span class="n">new_pcl</span> <span class="o">=</span> <span class="n">PointCloud</span><span class="p">()</span> <span class="c1"># Empty point cloud.</span>
<span class="c1"># Create point cloud with specific dimensions</span>
<span class="n">new_pcl</span> <span class="o">=</span> <span class="n">PointCloud</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span> <span class="c1"># Specify dimensions of created point cloud.</span>

<span class="c1"># Clone a point cloud.</span>
<span class="n">new_pcl</span> <span class="o">=</span> <span class="n">pcl</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>

<span class="c1"># 获取点云结构信息。</span>
<span class="n">size</span> <span class="o">=</span> <span class="n">new_pcl</span><span class="o">.</span><span class="n">getSize</span><span class="p">()</span>
<span class="n">height</span> <span class="o">=</span> <span class="n">new_pcl</span><span class="o">.</span><span class="n">getHeight</span><span class="p">()</span> <span class="c1"># Number of rows.</span>
<span class="n">width</span> <span class="o">=</span> <span class="n">new_pcl</span><span class="o">.</span><span class="n">getWidth</span><span class="p">()</span> <span class="c1"># Number of columns.</span>
<span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">new_pcl</span><span class="o">.</span><span class="n">isEmpty</span><span class="p">()):</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Point cloud contains capture data!&quot;</span><span class="p">)</span>
<span class="c1"># Get point cloud data information.</span>
<span class="n">x_values</span> <span class="o">=</span> <span class="n">new_pcl</span><span class="o">.</span><span class="n">getVecX</span><span class="p">()</span> <span class="c1"># 2D vector of all the x-coordinates in the point cloud.</span>
<span class="n">y_values</span> <span class="o">=</span> <span class="n">new_pcl</span><span class="o">.</span><span class="n">getVecX</span><span class="p">()</span> <span class="c1"># 2D vector of all the y-coordinates in the point cloud.</span>
<span class="n">z_values</span> <span class="o">=</span> <span class="n">new_pcl</span><span class="o">.</span><span class="n">getVecX</span><span class="p">()</span> <span class="c1"># 2D vector of all the z-coordinates in the point cloud.</span>
<span class="n">confident_values</span> <span class="o">=</span> <span class="n">new_pcl</span><span class="o">.</span><span class="n">getVecConfident</span><span class="p">()</span> <span class="c1"># 2D vector of point cloud confidence values.</span>
<span class="n">rgba_values</span> <span class="o">=</span> <span class="n">new_pcl</span><span class="o">.</span><span class="n">getVecRgba</span><span class="p">()</span> <span class="c1"># 2D vector of all the RGBA values in the point cloud. 0xAARRGGBB format.</span>
<span class="n">r_values</span> <span class="o">=</span> <span class="n">new_pcl</span><span class="o">.</span><span class="n">getVecR</span><span class="p">()</span> <span class="c1"># 2D vector of all the r-values in the point cloud.</span>
<span class="n">g_values</span> <span class="o">=</span> <span class="n">new_pcl</span><span class="o">.</span><span class="n">getVecG</span><span class="p">()</span> <span class="c1"># 2D vector of all the g-values in the point cloud.</span>
<span class="n">b_values</span> <span class="o">=</span> <span class="n">new_pcl</span><span class="o">.</span><span class="n">getVecB</span><span class="p">()</span> <span class="c1"># 2D vector of all the b-values in the point cloud.</span>
<span class="n">a_values</span> <span class="o">=</span> <span class="n">new_pcl</span><span class="o">.</span><span class="n">getVecA</span><span class="p">()</span> <span class="c1"># 2D vector of all the a-values in the point cloud.</span>

<span class="c1"># Get individual point from point cloud.</span>
<span class="n">idx</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>
<span class="n">pt</span> <span class="o">=</span> <span class="n">new_pcl</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span> <span class="c1"># Get any point using a 1D index between [0, size).</span>
<span class="n">row</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
<span class="n">col</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="p">)</span>
<span class="n">pt</span> <span class="o">=</span> <span class="n">new_pcl</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span> <span class="c1"># Get any point using a 2D index pair (row, column).</span>
</pre></div>
</div>
</div></div>
</section>
<section id="id16">
<h2><a class="toc-backref" href="#id32" role="doc-backlink">点</a><a class="headerlink" href="#id16" title="此标题的永久链接"></a></h2>
<p>获取和读取点的数据。</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-13-Qysr" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-13-Qysr" name="Qysr" role="tab" tabindex="0">C++</button><button aria-controls="panel-13-QyM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-13-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button><button aria-controls="panel-13-UHl0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-13-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-13-Qysr" class="sphinx-tabs-panel group-tab" id="panel-13-Qysr" name="Qysr" role="tabpanel" tabindex="0"><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// 点 ==========================================================================================================</span>
<span class="c1">// 点包含单个点的坐标和颜色信息。</span>
<span class="c1">// 获取点的数据。</span>
<span class="kt">float</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pt</span><span class="p">.</span><span class="n">getX</span><span class="p">();</span>
<span class="kt">float</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pt</span><span class="p">.</span><span class="n">getY</span><span class="p">();</span>
<span class="kt">float</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pt</span><span class="p">.</span><span class="n">getZ</span><span class="p">();</span>
<span class="kt">float</span><span class="w"> </span><span class="n">confident</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pt</span><span class="p">.</span><span class="n">getConfident</span><span class="p">();</span>
<span class="kt">uint8_t</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pt</span><span class="p">.</span><span class="n">getR</span><span class="p">();</span>
<span class="kt">uint8_t</span><span class="w"> </span><span class="n">g</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pt</span><span class="p">.</span><span class="n">getG</span><span class="p">();</span>
<span class="kt">uint8_t</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pt</span><span class="p">.</span><span class="n">getB</span><span class="p">();</span>
<span class="kt">uint8_t</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pt</span><span class="p">.</span><span class="n">getA</span><span class="p">();</span>
<span class="kt">uint32_t</span><span class="w"> </span><span class="n">rgba</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pt</span><span class="p">.</span><span class="n">getRgba</span><span class="p">();</span><span class="w"> </span><span class="c1">// 0xAARRGGBB format (ARGB)</span>
<span class="c1">// 设定点数据。</span>
<span class="n">DaoAI</span><span class="o">::</span><span class="n">Point</span><span class="w"> </span><span class="n">new_point</span><span class="p">;</span>
<span class="n">new_point</span><span class="p">.</span><span class="n">setX</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="n">new_point</span><span class="p">.</span><span class="n">setY</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="n">new_point</span><span class="p">.</span><span class="n">setZ</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="n">new_point</span><span class="p">.</span><span class="n">setConfident</span><span class="p">(</span><span class="mf">0.4</span><span class="p">);</span>
<span class="n">new_point</span><span class="p">.</span><span class="n">setRgba</span><span class="p">(</span><span class="mh">0x00FF0000</span><span class="p">);</span><span class="w"> </span><span class="c1">// Set to red.</span>
<span class="n">new_point</span><span class="p">.</span><span class="n">setRgb</span><span class="p">(</span><span class="mh">0x00</span><span class="p">,</span><span class="w"> </span><span class="mh">0xFF</span><span class="p">,</span><span class="w"> </span><span class="mh">0x00</span><span class="p">);</span><span class="w"> </span><span class="c1">// Set to green.</span>
<span class="n">new_point</span><span class="p">.</span><span class="n">setRgba</span><span class="p">(</span><span class="mh">0x00</span><span class="p">,</span><span class="w"> </span><span class="mh">0x00</span><span class="p">,</span><span class="w"> </span><span class="mh">0xFF</span><span class="p">,</span><span class="w"> </span><span class="mh">0x00</span><span class="p">);</span><span class="w"> </span><span class="c1">// Set to blue.</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-13-QyM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-13-QyM=" name="QyM=" role="tabpanel" tabindex="0"><div class="highlight-c# notranslate"><div class="highlight"><pre><span></span><span class="c1">// 点 ==========================================================================================================</span>
<span class="c1">// 点包含单个点的坐标和颜色信息。</span>
<span class="c1">// 获取点的数据。</span>
<span class="kt">float</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pt</span><span class="p">.</span><span class="n">getX</span><span class="p">();</span>
<span class="kt">float</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pt</span><span class="p">.</span><span class="n">getY</span><span class="p">();</span>
<span class="kt">float</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pt</span><span class="p">.</span><span class="n">getZ</span><span class="p">();</span>
<span class="kt">float</span><span class="w"> </span><span class="n">confident</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pt</span><span class="p">.</span><span class="n">getConfident</span><span class="p">();</span>
<span class="kt">byte</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pt</span><span class="p">.</span><span class="n">getR</span><span class="p">();</span>
<span class="kt">byte</span><span class="w"> </span><span class="n">g</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pt</span><span class="p">.</span><span class="n">getG</span><span class="p">();</span>
<span class="kt">byte</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pt</span><span class="p">.</span><span class="n">getB</span><span class="p">();</span>
<span class="kt">byte</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pt</span><span class="p">.</span><span class="n">getA</span><span class="p">();</span>
<span class="kt">uint</span><span class="w"> </span><span class="n">rgba</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pt</span><span class="p">.</span><span class="n">getRgba</span><span class="p">();</span><span class="w"> </span><span class="c1">// 0xAARRGGBB format (ARGB)</span>
<span class="w">                              </span><span class="c1">// 设定点数据。</span>
<span class="n">Point</span><span class="w"> </span><span class="n">new_point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Point</span><span class="p">();</span>
<span class="n">new_point</span><span class="p">.</span><span class="n">setX</span><span class="p">(</span><span class="m">1</span><span class="p">);</span>
<span class="n">new_point</span><span class="p">.</span><span class="n">setY</span><span class="p">(</span><span class="m">2</span><span class="p">);</span>
<span class="n">new_point</span><span class="p">.</span><span class="n">setZ</span><span class="p">(</span><span class="m">3</span><span class="p">);</span>
<span class="n">new_point</span><span class="p">.</span><span class="n">setConfident</span><span class="p">(</span><span class="m">0.4f</span><span class="p">);</span>
<span class="n">new_point</span><span class="p">.</span><span class="n">setRgba</span><span class="p">(</span><span class="m">0</span><span class="n">x00FF0000</span><span class="p">);</span><span class="w"> </span><span class="c1">// Set to red.</span>
<span class="n">new_point</span><span class="p">.</span><span class="n">setRgb</span><span class="p">(</span><span class="m">0</span><span class="n">x00</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="n">xFF</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="n">x00</span><span class="p">);</span><span class="w"> </span><span class="c1">// Set to green.</span>
<span class="n">new_point</span><span class="p">.</span><span class="n">setRgba</span><span class="p">(</span><span class="m">0</span><span class="n">x00</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="n">x00</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="n">xFF</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="n">x00</span><span class="p">);</span><span class="w"> </span><span class="c1">// Set to blue.</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-13-UHl0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-13-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 点 ==========================================================================================================</span>
<span class="c1"># 点包含单个点的坐标和颜色信息。</span>
<span class="c1"># 获取点的数据。</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">getX</span><span class="p">()</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">getY</span><span class="p">()</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">getZ</span><span class="p">()</span>
<span class="n">confident</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">getConfident</span><span class="p">()</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">getR</span><span class="p">()</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">getG</span><span class="p">()</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">getB</span><span class="p">()</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">getA</span><span class="p">()</span>
<span class="n">rgba</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">getRgba</span><span class="p">()</span> <span class="c1"># rgba is in 0xAARRGGBB format (ARGB)</span>
<span class="c1"># 设定点数据。</span>
<span class="n">new_point</span> <span class="o">=</span> <span class="n">Point</span><span class="p">()</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_point</span><span class="o">.</span><span class="n">setX</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_point</span><span class="o">.</span><span class="n">setY</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_point</span><span class="o">.</span><span class="n">setZ</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_point</span><span class="o">.</span><span class="n">setConfident</span><span class="p">(</span><span class="mf">0.4</span><span class="p">)</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_point</span><span class="o">.</span><span class="n">setRgba</span><span class="p">(</span><span class="mh">0x00FF0000</span><span class="p">)</span>  <span class="c1"># Set to red.</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_point</span><span class="o">.</span><span class="n">setRgb</span><span class="p">(</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">)</span> <span class="c1"># Set to green.</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">new_point</span><span class="o">.</span><span class="n">setRgba</span><span class="p">(</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">)</span> <span class="c1"># Set to blue.</span>
</pre></div>
</div>
</div></div>
</section>
<section id="id17">
<h2><a class="toc-backref" href="#id33" role="doc-backlink">清理</a><a class="headerlink" href="#id17" title="此标题的永久链接"></a></h2>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-14-Qysr" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-14-Qysr" name="Qysr" role="tab" tabindex="0">C++</button><button aria-controls="panel-14-QyM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-14-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button><button aria-controls="panel-14-UHl0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-14-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-14-Qysr" class="sphinx-tabs-panel group-tab" id="panel-14-Qysr" name="Qysr" role="tabpanel" tabindex="0"><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// 清理 =======================================================================================================</span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="o">-&gt;</span><span class="n">disConnect</span><span class="p">();</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>
<span class="k">delete</span><span class="w"> </span><span class="n">cam</span><span class="p">;</span>

<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">app</span><span class="o">-&gt;</span><span class="n">stopLogging</span><span class="p">();</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;End of sample program!&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-14-QyM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-14-QyM=" name="QyM=" role="tabpanel" tabindex="0"><div class="highlight-c# notranslate"><div class="highlight"><pre><span></span><span class="c1">// 清理 =======================================================================================================</span>
<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cam</span><span class="p">.</span><span class="n">disConnect</span><span class="p">();</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">app</span><span class="p">.</span><span class="n">stopLogging</span><span class="p">();</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">HasError</span><span class="p">(</span><span class="n">err</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Check for errors</span>

<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;End of sample program!&quot;</span><span class="p">);</span>

<span class="n">System</span><span class="p">.</span><span class="n">Threading</span><span class="p">.</span><span class="n">Thread</span><span class="p">.</span><span class="n">Sleep</span><span class="p">(</span><span class="m">20000</span><span class="p">);</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-14-UHl0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-14-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 清理 =======================================================================================================</span>
<span class="n">err</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">disConnect</span><span class="p">()</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>

<span class="n">err</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">stopLogging</span><span class="p">()</span>
<span class="k">if</span> <span class="p">(</span><span class="n">hasError</span><span class="p">(</span><span class="n">err</span><span class="p">)):</span> <span class="k">return</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;End of sample program!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div></div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="../connect-camera/index.html" class="btn btn-neutral float-left" title="连接相机" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="../api/index.html" class="btn btn-neutral float-right" title="API 参考" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2021-2023 DaoAI Robotics Inc..</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>